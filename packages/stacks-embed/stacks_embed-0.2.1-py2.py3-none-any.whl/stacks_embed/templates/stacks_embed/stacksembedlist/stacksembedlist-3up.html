<!--StacksEmbedList 3-up Grid-->

<div class="stacks-module list-3up stacks-embed stacks-embed-list-3up grid">
    {% if context.display_title %}<h2 class="module-title">{{ context.display_title }}</h2>{% endif %}
    {% for embed in context.embeds %}
    {% if forloop.first or forloop.counter0|divisibleby:'3' %}
    <div class="media-row grid-row">
    {% endif %}
        <div class="grid-block grid-3up
            {% if forloop.first or forloop.counter0|divisibleby:'3' %}first-in-row{% endif %} {% if forloop.counter|divisibleby:'3' %}last-in-row{% endif %}">
            <div class="image-container js-embed-placeholder grid" data-embed-code='{{ embed.embed_code }}'>
                <div class="play-icon-container">
                    <div class="play-icon"></div>
                    <img class="lazy" data-original="{{ embed.poster_image.3up_thumb }}" alt="{{ embed.display_title }}"/>
                </div>
            </div>
            {% if embed.overline %}
            <h5 class="overline">{{ embed.overline }}</h5>
            {% endif %}
            {% if embed.display_title %}<h4 class="list-heading">{{ embed.display_title }}</h4>{% endif %}
            {% if embed.optional_content.raw_text %}
            <div class="text-container">
                {{ embed.optional_content.as_html }}
            </div>
            {% endif %}
        </div>
    {% if forloop.last or forloop.counter|divisibleby:'3' %}
    </div>
    {% endif %}
    {% endfor %}
</div>
