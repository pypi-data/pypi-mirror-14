!function(){"use strict";function t(t,e,s,n){var a=this;a.tasks={pending:[],returned:[],in_progress:[],completed:[]},a.new_tasks=void 0,a.numActiveTasks=function(){var t=0;for(var e in a.tasks)"complete"!=e&&(t+=a.tasks[e].length);return t},a.waiting=!1,a.activate=function(){a.waiting=!0,e.get("/orchestra/api/interface/dashboard_tasks/").success(function(t,e,s,n){a.tasks=t.tasks,a.preventNewTasks=t.preventNewTasks,a.reviewerStatus=t.reviewerStatus,a.waiting=!1}).error(function(t,e,s,n){a.waiting=!1})},a.newTask=function(t){a.noTaskTimer||(a.noTaskTimer="temp",e.get("/orchestra/api/interface/new_task_assignment/"+t+"/").success(function(t,e,n,i){s.path("task/"+t.id),a.noTaskTimer=void 0}).error(function(t,e,s,i){a.new_tasks=0,a.noTaskTimer=n(function(){a.noTaskTimer=void 0,a.new_tasks=void 0},15e3)}))},a.activate()}angular.module("orchestra.dashboard.controllers").controller("DashboardController",t),t.$inject=["$scope","$http","$location","$timeout"]}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yY2hlc3RyYS9kYXNoYm9hcmQvanMvY29udHJvbGxlcnMuanMiXSwibmFtZXMiOlsiRGFzaGJvYXJkQ29udHJvbGxlciIsIiRzY29wZSIsIiRodHRwIiwiJGxvY2F0aW9uIiwiJHRpbWVvdXQiLCJ2bSIsInRoaXMiLCJ0YXNrcyIsInBlbmRpbmciLCJyZXR1cm5lZCIsImluX3Byb2dyZXNzIiwiY29tcGxldGVkIiwibmV3X3Rhc2tzIiwidW5kZWZpbmVkIiwibnVtQWN0aXZlVGFza3MiLCJudW1UYXNrcyIsInRhc2tUeXBlIiwibGVuZ3RoIiwid2FpdGluZyIsImFjdGl2YXRlIiwiZ2V0Iiwic3VjY2VzcyIsImRhdGEiLCJzdGF0dXMiLCJoZWFkZXJzIiwiY29uZmlnIiwicHJldmVudE5ld1Rhc2tzIiwicmV2aWV3ZXJTdGF0dXMiLCJlcnJvciIsIm5ld1Rhc2siLCJub1Rhc2tUaW1lciIsInBhdGgiLCJpZCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJGluamVjdCJdLCJtYXBwaW5ncyI6IkNBQUEsV0FDRSxZQVFBLFNBQVNBLEdBQW9CQyxFQUFRQyxFQUFPQyxFQUFXQyxHQUNyRCxHQUFJQyxHQUFLQyxJQUVURCxHQUFHRSxPQUNEQyxXQUNBQyxZQUNBQyxlQUNBQyxjQUVGTixFQUFHTyxVQUFZQyxPQUNmUixFQUFHUyxlQUFpQixXQUNsQixHQUFJQyxHQUFXLENBQ2YsS0FBSyxHQUFJQyxLQUFZWCxHQUFHRSxNQUNOLFlBQVpTLElBQ0ZELEdBQVlWLEVBQUdFLE1BQU1TLEdBQVVDLE9BR25DLE9BQU9GLElBRVRWLEVBQUdhLFNBQVUsRUFFYmIsRUFBR2MsU0FBVyxXQUNaZCxFQUFHYSxTQUFVLEVBQ2JoQixFQUFNa0IsSUFBSSw2Q0FDUkMsUUFBUSxTQUFTQyxFQUFNQyxFQUFRQyxFQUFTQyxHQUN0Q3BCLEVBQUdFLE1BQVFlLEVBQUtmLE1BQ2hCRixFQUFHcUIsZ0JBQWtCSixFQUFLSSxnQkFDMUJyQixFQUFHc0IsZUFBaUJMLEVBQUtLLGVBQ3pCdEIsRUFBR2EsU0FBVSxJQUVmVSxNQUFNLFNBQVNOLEVBQU1DLEVBQVFDLEVBQVNDLEdBQ3BDcEIsRUFBR2EsU0FBVSxLQUluQmIsRUFBR3dCLFFBQVUsU0FBU2IsR0FJZlgsRUFBR3lCLGNBRU56QixFQUFHeUIsWUFBYyxPQUNqQjVCLEVBQU1rQixJQUFJLGdEQUFrREosRUFBVyxLQUNyRUssUUFBUSxTQUFTQyxFQUFNQyxFQUFRQyxFQUFTQyxHQUN0Q3RCLEVBQVU0QixLQUFLLFFBQVVULEVBQUtVLElBQzlCM0IsRUFBR3lCLFlBQWNqQixTQUVuQmUsTUFBTSxTQUFTTixFQUFNQyxFQUFRQyxFQUFTQyxHQUNwQ3BCLEVBQUdPLFVBQVksRUFFZlAsRUFBR3lCLFlBQWMxQixFQUFTLFdBQ3hCQyxFQUFHeUIsWUFBY2pCLE9BQ2pCUixFQUFHTyxVQUFZQyxRQUNkLFVBS1hSLEVBQUdjLFdBaEVMYyxRQUNHQyxPQUFPLG1DQUNQQyxXQUFXLHNCQUF1Qm5DLEdBRXJDQSxFQUFvQm9DLFNBQVcsU0FBVSxRQUFTLFlBQWEiLCJmaWxlIjoib3JjaGVzdHJhL2Rhc2hib2FyZC9qcy9jb250cm9sbGVycy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgYW5ndWxhclxuICAgIC5tb2R1bGUoJ29yY2hlc3RyYS5kYXNoYm9hcmQuY29udHJvbGxlcnMnKVxuICAgIC5jb250cm9sbGVyKCdEYXNoYm9hcmRDb250cm9sbGVyJywgRGFzaGJvYXJkQ29udHJvbGxlcik7XG5cbiAgRGFzaGJvYXJkQ29udHJvbGxlci4kaW5qZWN0ID0gWyckc2NvcGUnLCAnJGh0dHAnLCAnJGxvY2F0aW9uJywgJyR0aW1lb3V0J107XG5cbiAgZnVuY3Rpb24gRGFzaGJvYXJkQ29udHJvbGxlcigkc2NvcGUsICRodHRwLCAkbG9jYXRpb24sICR0aW1lb3V0KSB7XG4gICAgdmFyIHZtID0gdGhpcztcblxuICAgIHZtLnRhc2tzID0ge1xuICAgICAgJ3BlbmRpbmcnOiBbXSxcbiAgICAgICdyZXR1cm5lZCc6IFtdLFxuICAgICAgJ2luX3Byb2dyZXNzJzogW10sXG4gICAgICAnY29tcGxldGVkJzogW11cbiAgICB9O1xuICAgIHZtLm5ld190YXNrcyA9IHVuZGVmaW5lZDtcbiAgICB2bS5udW1BY3RpdmVUYXNrcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG51bVRhc2tzID0gMDtcbiAgICAgIGZvciAodmFyIHRhc2tUeXBlIGluIHZtLnRhc2tzKSB7XG4gICAgICAgIGlmICh0YXNrVHlwZSAhPSAnY29tcGxldGUnKSB7XG4gICAgICAgICAgbnVtVGFza3MgKz0gdm0udGFza3NbdGFza1R5cGVdLmxlbmd0aDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG51bVRhc2tzO1xuICAgIH1cbiAgICB2bS53YWl0aW5nID0gZmFsc2U7XG5cbiAgICB2bS5hY3RpdmF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdm0ud2FpdGluZyA9IHRydWU7XG4gICAgICAkaHR0cC5nZXQoJy9vcmNoZXN0cmEvYXBpL2ludGVyZmFjZS9kYXNoYm9hcmRfdGFza3MvJykuXG4gICAgICAgIHN1Y2Nlc3MoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICB2bS50YXNrcyA9IGRhdGEudGFza3M7XG4gICAgICAgICAgdm0ucHJldmVudE5ld1Rhc2tzID0gZGF0YS5wcmV2ZW50TmV3VGFza3M7XG4gICAgICAgICAgdm0ucmV2aWV3ZXJTdGF0dXMgPSBkYXRhLnJldmlld2VyU3RhdHVzO1xuICAgICAgICAgIHZtLndhaXRpbmcgPSBmYWxzZTtcbiAgICAgICAgfSkuXG4gICAgICAgIGVycm9yKGZ1bmN0aW9uKGRhdGEsIHN0YXR1cywgaGVhZGVycywgY29uZmlnKSB7XG4gICAgICAgICAgdm0ud2FpdGluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2bS5uZXdUYXNrID0gZnVuY3Rpb24odGFza1R5cGUpIHtcbiAgICAgIC8vIFRvIGFsbG93IHVzZXJzIHRvIHJlYWQgdGhlIFwibm8gdGFza3MgbGVmdFwiIG1lc3NhZ2Ugd2hpbGUgZGVib3VuY2luZ1xuICAgICAgLy8gZnVydGhlciBjbGlja3MsIHdlIGxlYXZlIHRoZSBtZXNzYWdlIHVwIGZvciAxNSBzZWNvbmRzIGJlZm9yZSByZW1vdmluZ1xuICAgICAgLy8gaXQgYW5kIHJlLWVuYWJsaW5nIHRoZSBidXR0b25zXG4gICAgICBpZiAoIXZtLm5vVGFza1RpbWVyKSB7XG4gICAgICAgIC8vIEluaXRpYWxpemUgdGFzayB0aW1lciB0byBkdW1teSB2YWx1ZSB0byBwcmV2ZW50IHN1YnNlcXVlbnQgQVBJIGNhbGxzXG4gICAgICAgIHZtLm5vVGFza1RpbWVyID0gJ3RlbXAnO1xuICAgICAgICAkaHR0cC5nZXQoJy9vcmNoZXN0cmEvYXBpL2ludGVyZmFjZS9uZXdfdGFza19hc3NpZ25tZW50LycgKyB0YXNrVHlwZSArICcvJykuXG4gICAgICAgICAgc3VjY2VzcyhmdW5jdGlvbihkYXRhLCBzdGF0dXMsIGhlYWRlcnMsIGNvbmZpZykge1xuICAgICAgICAgICAgJGxvY2F0aW9uLnBhdGgoJ3Rhc2svJyArIGRhdGEuaWQpO1xuICAgICAgICAgICAgdm0ubm9UYXNrVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfSkuXG4gICAgICAgICAgZXJyb3IoZnVuY3Rpb24oZGF0YSwgc3RhdHVzLCBoZWFkZXJzLCBjb25maWcpIHtcbiAgICAgICAgICAgIHZtLm5ld190YXNrcyA9IDA7XG4gICAgICAgICAgICAvLyBSYXRlIGxpbWl0IGJ1dHRvbi1jbGlja2luZ1xuICAgICAgICAgICAgdm0ubm9UYXNrVGltZXIgPSAkdGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgdm0ubm9UYXNrVGltZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgIHZtLm5ld190YXNrcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0sIDE1MDAwKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2bS5hY3RpdmF0ZSgpO1xuICB9XG59KSgpO1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
