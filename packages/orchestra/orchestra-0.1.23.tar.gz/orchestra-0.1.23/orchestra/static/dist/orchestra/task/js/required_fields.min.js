!function(){"use strict";var e=angular.module("orchestra.task.services");e.factory("requiredFields",["$rootScope","orchestraService",function(e,r){var t={validators:{"input-checkbox":[function(e){return e.checked}],"input-text":[function(e){return e.value&&e.value.length>0}]},setup:function(e){this.fields={},this.invalid=[],this.data=e},require:function(e,r){void 0===this.fields[e]?this.fields[e]=[r]:this.fields[e].push(r)},validate:function(){var r=this;r.invalid=[];for(var t in r.fields){var i=r.validators[t];if(i){var a=r.fields[t];a.forEach(function(e){var t=!0;i.forEach(function(r){t=t&&r(e)}),t||r.invalid.push(e)})}else console.error("Validators not found for field type:"+t)}return e.$broadcast("orchestra:task:validatedFields"),0===r.invalid.length},registerValidator:function(e,r){var t=this;void 0===t.validators[e]?t.validators[e].push(r):t.validators[e]=[r]}};return r.signals.registerSignal("submit.before",function(){return t.validate()?void 0:(alert("One or more required fields have not been filled out."),!1)}),t}]),angular.module("orchestra.task.directives").directive("orchestraRequiredField",["$compile","requiredFields",function(e,r){return{restrict:"EA",link:function(e,t,i){var a=t.find("input")[0],o=t.attr("data-error-class");if(o||(o=a.getAttribute("type")+"-error"),a&&"checkbox"!=a.getAttribute("type")&&"text"!=a.getAttribute("type"))return void console.error("Unsupported required field type.");r.require("input-"+a.getAttribute("type"),a);var n=function(){r.invalid.indexOf(a)>=0?t.addClass("required-field-error "+o):t.removeClass("required-field-error "+o)};n(),e.$on("orchestra:task:validatedFields",n)}}}])}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yY2hlc3RyYS90YXNrL2pzL3JlcXVpcmVkX2ZpZWxkcy5qcyJdLCJuYW1lcyI6WyJzZXJ2aWNlTW9kdWxlIiwiYW5ndWxhciIsIm1vZHVsZSIsImZhY3RvcnkiLCIkcm9vdFNjb3BlIiwib3JjaGVzdHJhU2VydmljZSIsInJlcXVpcmVkRmllbGRzIiwidmFsaWRhdG9ycyIsImlucHV0LWNoZWNrYm94IiwiZWxlbSIsImNoZWNrZWQiLCJpbnB1dC10ZXh0IiwidmFsdWUiLCJsZW5ndGgiLCJzZXR1cCIsImRhdGEiLCJ0aGlzIiwiZmllbGRzIiwiaW52YWxpZCIsInJlcXVpcmUiLCJmaWVsZFR5cGUiLCJmaWVsZCIsInVuZGVmaW5lZCIsInB1c2giLCJ2YWxpZGF0ZSIsImZvckVhY2giLCJzdWNjZXNzIiwidmFsaWRhdG9yIiwiY29uc29sZSIsImVycm9yIiwiJGJyb2FkY2FzdCIsInJlZ2lzdGVyVmFsaWRhdG9yIiwic2lnbmFscyIsInJlZ2lzdGVyU2lnbmFsIiwiYWxlcnQiLCJkaXJlY3RpdmUiLCIkY29tcGlsZSIsInJlc3RyaWN0IiwibGluayIsInNjb3BlIiwiYXR0cnMiLCJmaW5kIiwiZXJyb3JDbGFzcyIsImF0dHIiLCJnZXRBdHRyaWJ1dGUiLCJ0b2dnbGVFcnJvciIsImluZGV4T2YiLCJhZGRDbGFzcyIsInJlbW92ZUNsYXNzIiwiJG9uIl0sIm1hcHBpbmdzIjoiQ0FBQSxXQUNFLFlBRUEsSUFBSUEsR0FBaUJDLFFBQVFDLE9BQU8sMEJBTXBDRixHQUFjRyxRQUFRLGtCQUFBLGFBQUEsbUJBQWtCLFNBQVNDLEVBQVlDLEdBQzNELEdBQUlDLElBQ0ZDLFlBQ0VDLGtCQUNFLFNBQVNDLEdBQ1AsTUFBT0EsR0FBS0MsVUFHaEJDLGNBQ0UsU0FBU0YsR0FDUCxNQUFPQSxHQUFLRyxPQUFTSCxFQUFLRyxNQUFNQyxPQUFTLEtBSS9DQyxNQUFPLFNBQVNDLEdBSWRDLEtBQUtDLFVBQ0xELEtBQUtFLFdBQ0xGLEtBQUtELEtBQU9BLEdBRWRJLFFBQVMsU0FBU0MsRUFBV0MsR0FNSUMsU0FBM0JOLEtBQUtDLE9BQU9HLEdBQ2RKLEtBQUtDLE9BQU9HLElBQWNDLEdBRzFCTCxLQUFLQyxPQUFPRyxHQUFXRyxLQUFLRixJQUdoQ0csU0FBVSxXQUtSLEdBQUlsQixHQUFpQlUsSUFDckJWLEdBQWVZLFVBQ2YsS0FBSyxHQUFJRSxLQUFhZCxHQUFlVyxPQUFRLENBQzNDLEdBQUlWLEdBQWFELEVBQWVDLFdBQVdhLEVBQzNDLElBQUtiLEVBQUwsQ0FJQSxHQUFJVSxHQUFTWCxFQUFlVyxPQUFPRyxFQUNuQ0gsR0FBT1EsUUFBUSxTQUFTSixHQUN0QixHQUFJSyxJQUFVLENBQ2RuQixHQUFXa0IsUUFBUSxTQUFTRSxHQUMxQkQsRUFBVUEsR0FBV0MsRUFBVU4sS0FFNUJLLEdBQ0hwQixFQUFlWSxRQUFRSyxLQUFLRixTQVY5Qk8sU0FBUUMsTUFBTSx1Q0FBeUNULEdBZTNELE1BREFoQixHQUFXMEIsV0FBVyxrQ0FDbUIsSUFBbEN4QixFQUFlWSxRQUFRTCxRQUVoQ2tCLGtCQUFtQixTQUFTWCxFQUFXTyxHQUlyQyxHQUFJckIsR0FBaUJVLElBQ3dCTSxVQUF6Q2hCLEVBQWVDLFdBQVdhLEdBQzVCZCxFQUFlQyxXQUFXYSxHQUFXRyxLQUFLSSxHQUcxQ3JCLEVBQWVDLFdBQVdhLElBQWNPLElBYTlDLE9BUkF0QixHQUFpQjJCLFFBQVFDLGVBQ3ZCLGdCQUFpQixXQUNmLE1BQUszQixHQUFla0IsV0FBcEIsUUFDRVUsTUFBTSwwREFDQyxLQUlONUIsS0FXVEwsUUFBUUMsT0FBTyw2QkFDWmlDLFVBQVUsMEJBQUEsV0FBQSxpQkFBMEIsU0FBU0MsRUFBVTlCLEdBQ3RELE9BQ0UrQixTQUFVLEtBQ1ZDLEtBQU0sU0FBU0MsRUFBTzlCLEVBQU0rQixHQUMxQixHQUFJbkIsR0FBUVosRUFBS2dDLEtBQUssU0FBUyxHQUMzQkMsRUFBYWpDLEVBQUtrQyxLQUFLLG1CQUkzQixJQUhLRCxJQUNIQSxFQUFhckIsRUFBTXVCLGFBQWEsUUFBVSxVQUV4Q3ZCLEdBQzhCLFlBQTlCQSxFQUFNdUIsYUFBYSxTQUNXLFFBQTlCdkIsRUFBTXVCLGFBQWEsUUFFckIsV0FEQWhCLFNBQVFDLE1BQU0sbUNBR2hCdkIsR0FBZWEsUUFBUSxTQUFXRSxFQUFNdUIsYUFBYSxRQUFTdkIsRUFDOUQsSUFBSXdCLEdBQWMsV0FDWnZDLEVBQWVZLFFBQVE0QixRQUFRekIsSUFBVSxFQUMzQ1osRUFBS3NDLFNBQVMsd0JBQTBCTCxHQUd4Q2pDLEVBQUt1QyxZQUFZLHdCQUEwQk4sR0FHL0NHLEtBQ0FOLEVBQU1VLElBQUksaUNBQWtDSiIsImZpbGUiOiJvcmNoZXN0cmEvdGFzay9qcy9yZXF1aXJlZF9maWVsZHMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiKGZ1bmN0aW9uKCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgdmFyIHNlcnZpY2VNb2R1bGUgPSAgYW5ndWxhci5tb2R1bGUoJ29yY2hlc3RyYS50YXNrLnNlcnZpY2VzJyk7XG5cbiAgLyoqXG4gICAqIFNlcnZpY2UgdG8ga2VlcCB0cmFjayBvZiBhbGwgcmVxdWlyZWQgZmllbGRzIGluIGEgdGFzayB2aWV3IGFuZFxuICAgKiB2YWxpZGF0ZSB0aGVtIG9uIHN1Ym1pdC5cbiAgICovXG4gIHNlcnZpY2VNb2R1bGUuZmFjdG9yeSgncmVxdWlyZWRGaWVsZHMnLCBmdW5jdGlvbigkcm9vdFNjb3BlLCBvcmNoZXN0cmFTZXJ2aWNlKSB7XG4gICAgdmFyIHJlcXVpcmVkRmllbGRzID0ge1xuICAgICAgdmFsaWRhdG9yczoge1xuICAgICAgICAnaW5wdXQtY2hlY2tib3gnOiBbXG4gICAgICAgICAgZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW0uY2hlY2tlZDtcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICAgICdpbnB1dC10ZXh0JzogW1xuICAgICAgICAgIGZ1bmN0aW9uKGVsZW0pIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtLnZhbHVlICYmIGVsZW0udmFsdWUubGVuZ3RoID4gMDtcbiAgICAgICAgICB9XG4gICAgICAgIF0sXG4gICAgICB9LFxuICAgICAgc2V0dXA6IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdXAgdGhlIGJhc2UgZGF0YSBvbiB3aGljaCB0byB2YWxpZGF0ZSBmaWVsZHMuXG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLmZpZWxkcyA9IHt9O1xuICAgICAgICB0aGlzLmludmFsaWQgPSBbXTtcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgICAgIH0sXG4gICAgICByZXF1aXJlOiBmdW5jdGlvbihmaWVsZFR5cGUsIGZpZWxkKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIGEgZmllbGQgYXMgcmVxdWlyZWQuIEZpZWxkcyBhcmUgSFRNTCBlbGVtZW50cyB0byBiZVxuICAgICAgICAgKiBjaGVja2VkIGJ5IG9uZSBvciBtb3JlIHZhbGlkYXRvcnMgYWNjb3JkaW5nIHRvIHRoZWlyIGZpZWxkXG4gICAgICAgICAqIHR5cGUuXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5maWVsZHNbZmllbGRUeXBlXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgdGhpcy5maWVsZHNbZmllbGRUeXBlXSA9IFtmaWVsZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdGhpcy5maWVsZHNbZmllbGRUeXBlXS5wdXNoKGZpZWxkKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHZhbGlkYXRlOiBmdW5jdGlvbigpIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZhbGlkYXRlcyByZXF1aXJlZCBmaWVsZHMgYWNjb3JkaW5nIHRvIHRoZWlyIHJlZ2lzdGVyZWRcbiAgICAgICAgICogdmFsaWRhdG9ycy5cbiAgICAgICAgICovXG4gICAgICAgIHZhciByZXF1aXJlZEZpZWxkcyA9IHRoaXM7XG4gICAgICAgIHJlcXVpcmVkRmllbGRzLmludmFsaWQgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgZmllbGRUeXBlIGluIHJlcXVpcmVkRmllbGRzLmZpZWxkcykge1xuICAgICAgICAgIHZhciB2YWxpZGF0b3JzID0gcmVxdWlyZWRGaWVsZHMudmFsaWRhdG9yc1tmaWVsZFR5cGVdO1xuICAgICAgICAgIGlmICghdmFsaWRhdG9ycykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVmFsaWRhdG9ycyBub3QgZm91bmQgZm9yIGZpZWxkIHR5cGU6JyArIGZpZWxkVHlwZSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGZpZWxkcyA9IHJlcXVpcmVkRmllbGRzLmZpZWxkc1tmaWVsZFR5cGVdO1xuICAgICAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgICAgICAgICB2YXIgc3VjY2VzcyA9IHRydWU7XG4gICAgICAgICAgICB2YWxpZGF0b3JzLmZvckVhY2goZnVuY3Rpb24odmFsaWRhdG9yKSB7XG4gICAgICAgICAgICAgIHN1Y2Nlc3MgPSBzdWNjZXNzICYmIHZhbGlkYXRvcihmaWVsZCk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgaWYgKCFzdWNjZXNzKSB7XG4gICAgICAgICAgICAgIHJlcXVpcmVkRmllbGRzLmludmFsaWQucHVzaChmaWVsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ29yY2hlc3RyYTp0YXNrOnZhbGlkYXRlZEZpZWxkcycpO1xuICAgICAgICByZXR1cm4gcmVxdWlyZWRGaWVsZHMuaW52YWxpZC5sZW5ndGggPT09IDA7XG4gICAgICB9LFxuICAgICAgcmVnaXN0ZXJWYWxpZGF0b3I6IGZ1bmN0aW9uKGZpZWxkVHlwZSwgdmFsaWRhdG9yKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWdpc3RlciBhIHZhbGlkYXRvciBmdW5jdGlvbiB0byB0aGUgZ2l2ZW4gZmllbGQgdHlwZS5cbiAgICAgICAgICovXG4gICAgICAgIHZhciByZXF1aXJlZEZpZWxkcyA9IHRoaXM7XG4gICAgICAgIGlmIChyZXF1aXJlZEZpZWxkcy52YWxpZGF0b3JzW2ZpZWxkVHlwZV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlcXVpcmVkRmllbGRzLnZhbGlkYXRvcnNbZmllbGRUeXBlXS5wdXNoKHZhbGlkYXRvcik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgcmVxdWlyZWRGaWVsZHMudmFsaWRhdG9yc1tmaWVsZFR5cGVdID0gW3ZhbGlkYXRvcl07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgb3JjaGVzdHJhU2VydmljZS5zaWduYWxzLnJlZ2lzdGVyU2lnbmFsKFxuICAgICAgJ3N1Ym1pdC5iZWZvcmUnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFyZXF1aXJlZEZpZWxkcy52YWxpZGF0ZSgpKSB7XG4gICAgICAgICAgYWxlcnQoJ09uZSBvciBtb3JlIHJlcXVpcmVkIGZpZWxkcyBoYXZlIG5vdCBiZWVuIGZpbGxlZCBvdXQuJylcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgIHJldHVybiByZXF1aXJlZEZpZWxkcztcbiAgfSk7XG5cbiAgLyoqXG4gICAqIFByb3ZpZGVzIGEgZGlyZWN0aXZlIHRvIHdyYXAgcmVxdWlyZWQgZmllbGRzIGluIHRhc2sgdmlld3MuXG4gICAqICAgLSBUaGUgd3JhcHBlZCBIVE1MIHNob3VsZCBjb250YWluIGFuIGlucHV0IGVsZW1lbnQgYm91bmQgd2l0aFxuICAgKiAgICAgbmdNb2RlbC5cbiAgICogICAtIE9wdGlvbmFsbHkgcHJvdmlkZSBhIGNsYXNzIHRvIGFkZCB0byB0aGUgZGlyZWN0aXZlIHdyYXBwZXIgb25cbiAgICogICAgIGVycm9yIHdpdGggYGRhdGEtZXJyb3ItY2xhc3M9XCJlcnJvci1jbGFzc1wiYCBvbiB0aGUgZGlyZWN0aXZlXG4gICAqICAgICBlbGVtZW50OyBvdGhlcndpc2UsIGEgZGVmYXVsdCBpcyBwcm92aWRlZCBmb3IgdGhlIGlucHV0IHR5cGUuXG4gICAqL1xuICBhbmd1bGFyLm1vZHVsZSgnb3JjaGVzdHJhLnRhc2suZGlyZWN0aXZlcycpXG4gICAgLmRpcmVjdGl2ZSgnb3JjaGVzdHJhUmVxdWlyZWRGaWVsZCcsIGZ1bmN0aW9uKCRjb21waWxlLCByZXF1aXJlZEZpZWxkcykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcmVzdHJpY3Q6ICdFQScsXG4gICAgICAgIGxpbms6IGZ1bmN0aW9uKHNjb3BlLCBlbGVtLCBhdHRycykge1xuICAgICAgICAgIHZhciBmaWVsZCA9IGVsZW0uZmluZCgnaW5wdXQnKVswXTtcbiAgICAgICAgICB2YXIgZXJyb3JDbGFzcyA9IGVsZW0uYXR0cignZGF0YS1lcnJvci1jbGFzcycpO1xuICAgICAgICAgIGlmICghZXJyb3JDbGFzcykge1xuICAgICAgICAgICAgZXJyb3JDbGFzcyA9IGZpZWxkLmdldEF0dHJpYnV0ZSgndHlwZScpICsgJy1lcnJvcic7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChmaWVsZCAmJlxuICAgICAgICAgICAgICBmaWVsZC5nZXRBdHRyaWJ1dGUoJ3R5cGUnKSAhPSAnY2hlY2tib3gnICYmXG4gICAgICAgICAgICAgIGZpZWxkLmdldEF0dHJpYnV0ZSgndHlwZScpICE9ICd0ZXh0Jykge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignVW5zdXBwb3J0ZWQgcmVxdWlyZWQgZmllbGQgdHlwZS4nKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVxdWlyZWRGaWVsZHMucmVxdWlyZSgnaW5wdXQtJyArIGZpZWxkLmdldEF0dHJpYnV0ZSgndHlwZScpLCBmaWVsZCk7XG4gICAgICAgICAgdmFyIHRvZ2dsZUVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAocmVxdWlyZWRGaWVsZHMuaW52YWxpZC5pbmRleE9mKGZpZWxkKSA+PSAwKSB7XG4gICAgICAgICAgICAgIGVsZW0uYWRkQ2xhc3MoJ3JlcXVpcmVkLWZpZWxkLWVycm9yICcgKyBlcnJvckNsYXNzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICBlbGVtLnJlbW92ZUNsYXNzKCdyZXF1aXJlZC1maWVsZC1lcnJvciAnICsgZXJyb3JDbGFzcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHRvZ2dsZUVycm9yKCk7XG4gICAgICAgICAgc2NvcGUuJG9uKCdvcmNoZXN0cmE6dGFzazp2YWxpZGF0ZWRGaWVsZHMnLCB0b2dnbGVFcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG5cbn0pKClcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
