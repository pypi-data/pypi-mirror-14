(function(){!function(t){t.easyPieChart=function(n,i){var e,o,a,s,r,c,l,p=this;return this.el=n,this.$el=t(n),this.$el.data("easyPieChart",this),this.init=function(){var n;return p.options=t.extend({},t.easyPieChart.defaultOptions,i),n=parseInt(p.$el.data("percent"),10),p.percentage=0,p.canvas=t("<canvas width='"+p.options.size+"' height='"+p.options.size+"'></canvas>").get(0),p.$el.append(p.canvas),"undefined"!=typeof G_vmlCanvasManager&&null!==G_vmlCanvasManager&&G_vmlCanvasManager.initElement(p.canvas),p.ctx=p.canvas.getContext("2d"),window.devicePixelRatio>1.5&&(t(p.canvas).css({width:p.options.size,height:p.options.size}),p.canvas.width*=2,p.canvas.height*=2,p.ctx.scale(2,2)),p.ctx.translate(p.options.size/2,p.options.size/2),p.$el.addClass("easyPieChart"),p.$el.css({width:p.options.size,height:p.options.size,lineHeight:""+p.options.size+"px"}),p.update(n),p},this.update=function(t){return p.options.animate===!1?a(t):o(p.percentage,t)},c=function(){var t,n,i;for(p.ctx.fillStyle=p.options.scaleColor,p.ctx.lineWidth=1,i=[],t=n=0;24>=n;t=++n)i.push(e(t));return i},e=function(t){var n;return n=t%6===0?0:.017*p.options.size,p.ctx.save(),p.ctx.rotate(t*Math.PI/12),p.ctx.fillRect(p.options.size/2-n,0,.05*-p.options.size+n,1),p.ctx.restore()},l=function(){var t;return t=p.options.size/2-p.options.lineWidth/2,p.options.scaleColor!==!1&&(t-=.08*p.options.size),p.ctx.beginPath(),p.ctx.arc(0,0,t,0,2*Math.PI,!0),p.ctx.closePath(),p.ctx.strokeStyle=p.options.trackColor,p.ctx.lineWidth=p.options.lineWidth,p.ctx.stroke()},r=function(){return p.options.scaleColor!==!1&&c(),p.options.trackColor!==!1?l():void 0},a=function(n){var i;return r(),p.ctx.strokeStyle=t.isFunction(p.options.barColor)?p.options.barColor(n):p.options.barColor,p.ctx.lineCap=p.options.lineCap,p.ctx.lineWidth=p.options.lineWidth,i=p.options.size/2-p.options.lineWidth/2,p.options.scaleColor!==!1&&(i-=.08*p.options.size),p.ctx.save(),p.ctx.rotate(-Math.PI/2),p.ctx.beginPath(),p.ctx.arc(0,0,i,0,2*Math.PI*n/100,!1),p.ctx.stroke(),p.ctx.restore()},o=function(t,n){var i,e,o;return e=30,o=e*p.options.animate/1e3,i=0,p.options.onStart.call(p),p.percentage=n,p.animation&&(clearInterval(p.animation),p.animation=!1),p.animation=setInterval(function(){return p.ctx.clearRect(-p.options.size/2,-p.options.size/2,p.options.size,p.options.size),r.call(p),a.call(p,[s(i,t,n-t,o)]),i++,i/o>1?(clearInterval(p.animation),p.animation=!1,p.options.onStop.call(p)):void 0},1e3/e)},s=function(t,n,i,e){var o,a;return o=function(t){return Math.pow(t,2)},a=function(t){return 1>t?o(t):2-o(t/2*-2+2)},t/=e/2,i/2*a(t)+n},this.init()},t.easyPieChart.defaultOptions={barColor:"#ef1e25",trackColor:"#f2f2f2",scaleColor:"#dfe0e0",lineCap:"round",size:110,lineWidth:3,animate:!1,onStart:t.noop,onStop:t.noop},t.fn.easyPieChart=function(n){return t.each(this,function(i,e){var o;return o=t(e),o.data("easyPieChart")?void 0:o.data("easyPieChart",new t.easyPieChart(e,n))})}}(jQuery)}).call(this);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yY2hlc3RyYS9jb21tb24vanMvbGliL2pxdWVyeS1lYXN5LXBpZS1jaGFydC9qcXVlcnkuZWFzeS1waWUtY2hhcnQuanMiXSwibmFtZXMiOlsiJCIsImVhc3lQaWVDaGFydCIsImVsIiwib3B0aW9ucyIsImFkZFNjYWxlTGluZSIsImFuaW1hdGVMaW5lIiwiZHJhd0xpbmUiLCJlYXNlSW5PdXRRdWFkIiwicmVuZGVyQmFja2dyb3VuZCIsInJlbmRlclNjYWxlIiwicmVuZGVyVHJhY2siLCJfdGhpcyIsInRoaXMiLCIkZWwiLCJkYXRhIiwiaW5pdCIsInBlcmNlbnQiLCJleHRlbmQiLCJkZWZhdWx0T3B0aW9ucyIsInBhcnNlSW50IiwicGVyY2VudGFnZSIsImNhbnZhcyIsInNpemUiLCJnZXQiLCJhcHBlbmQiLCJHX3ZtbENhbnZhc01hbmFnZXIiLCJpbml0RWxlbWVudCIsImN0eCIsImdldENvbnRleHQiLCJ3aW5kb3ciLCJkZXZpY2VQaXhlbFJhdGlvIiwiY3NzIiwid2lkdGgiLCJoZWlnaHQiLCJzY2FsZSIsInRyYW5zbGF0ZSIsImFkZENsYXNzIiwibGluZUhlaWdodCIsInVwZGF0ZSIsImFuaW1hdGUiLCJpIiwiX2kiLCJfcmVzdWx0cyIsImZpbGxTdHlsZSIsInNjYWxlQ29sb3IiLCJsaW5lV2lkdGgiLCJwdXNoIiwib2Zmc2V0Iiwic2F2ZSIsInJvdGF0ZSIsIk1hdGgiLCJQSSIsImZpbGxSZWN0IiwicmVzdG9yZSIsImJlZ2luUGF0aCIsImFyYyIsImNsb3NlUGF0aCIsInN0cm9rZVN0eWxlIiwidHJhY2tDb2xvciIsInN0cm9rZSIsImlzRnVuY3Rpb24iLCJiYXJDb2xvciIsImxpbmVDYXAiLCJmcm9tIiwidG8iLCJjdXJyZW50U3RlcCIsImZwcyIsInN0ZXBzIiwib25TdGFydCIsImNhbGwiLCJhbmltYXRpb24iLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJjbGVhclJlY3QiLCJvblN0b3AiLCJ0IiwiYiIsImMiLCJkIiwiZWFz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LEdBQUlXLEVBRUosT0FEQUEsR0FBTWIsRUFBRUUsR0FDSFcsRUFBSUMsS0FBSyxnQkFBZCxPQUNTRCxFQUFJQyxLQUFLLGVBQWdCLEdBQUlkLEdBQUVDLGFBQWFDLEVBQUlDLFFBSzVEa0YsVUFFRmhCLEtBQUt6RCIsImZpbGUiOiJvcmNoZXN0cmEvY29tbW9uL2pzL2xpYi9qcXVlcnktZWFzeS1waWUtY2hhcnQvanF1ZXJ5LmVhc3ktcGllLWNoYXJ0Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS40LjBcblxuLypcbkVhc3kgcGllIGNoYXJ0IGlzIGEganF1ZXJ5IHBsdWdpbiB0byBkaXNwbGF5IHNpbXBsZSBhbmltYXRlZCBwaWUgY2hhcnRzIGZvciBvbmx5IG9uZSB2YWx1ZVxuXG5EdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgKGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwKVxuYW5kIEdQTCAoaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9ncGwtbGljZW5zZS5waHApIGxpY2Vuc2VzLlxuXG5CdWlsdCBvbiB0b3Agb2YgdGhlIGpRdWVyeSBsaWJyYXJ5IChodHRwOi8vanF1ZXJ5LmNvbSlcblxuQHNvdXJjZTogaHR0cDovL2dpdGh1Yi5jb20vcmVuZHJvL2Vhc3ktcGllLWNoYXJ0L1xuQGF1dG9yOiBSb2JlcnQgRmxlaXNjaG1hbm5cbkB2ZXJzaW9uOiAxLjAuMVxuXG5JbnNwaXJlZCBieTogaHR0cDovL2RyaWJiYmxlLmNvbS9zaG90cy82MzEwNzQtU2ltcGxlLVBpZS1DaGFydHMtSUk/bGlzdD1wb3B1bGFyJm9mZnNldD0yMTBcblRoYW5rcyB0byBQaGlsaXAgVGhyYXNoZXIgZm9yIHRoZSBqcXVlcnkgcGx1Z2luIGJvaWxlcnBsYXRlIGZvciBjb2ZmZWUgc2NyaXB0XG4qL1xuXG5cbihmdW5jdGlvbigpIHtcblxuICAoZnVuY3Rpb24oJCkge1xuICAgICQuZWFzeVBpZUNoYXJ0ID0gZnVuY3Rpb24oZWwsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBhZGRTY2FsZUxpbmUsIGFuaW1hdGVMaW5lLCBkcmF3TGluZSwgZWFzZUluT3V0UXVhZCwgcmVuZGVyQmFja2dyb3VuZCwgcmVuZGVyU2NhbGUsIHJlbmRlclRyYWNrLFxuICAgICAgICBfdGhpcyA9IHRoaXM7XG4gICAgICB0aGlzLmVsID0gZWw7XG4gICAgICB0aGlzLiRlbCA9ICQoZWwpO1xuICAgICAgdGhpcy4kZWwuZGF0YShcImVhc3lQaWVDaGFydFwiLCB0aGlzKTtcbiAgICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgcGVyY2VudDtcbiAgICAgICAgX3RoaXMub3B0aW9ucyA9ICQuZXh0ZW5kKHt9LCAkLmVhc3lQaWVDaGFydC5kZWZhdWx0T3B0aW9ucywgb3B0aW9ucyk7XG4gICAgICAgIHBlcmNlbnQgPSBwYXJzZUludChfdGhpcy4kZWwuZGF0YSgncGVyY2VudCcpLCAxMCk7XG4gICAgICAgIF90aGlzLnBlcmNlbnRhZ2UgPSAwO1xuICAgICAgICBfdGhpcy5jYW52YXMgPSAkKFwiPGNhbnZhcyB3aWR0aD0nXCIgKyBfdGhpcy5vcHRpb25zLnNpemUgKyBcIicgaGVpZ2h0PSdcIiArIF90aGlzLm9wdGlvbnMuc2l6ZSArIFwiJz48L2NhbnZhcz5cIikuZ2V0KDApO1xuICAgICAgICBfdGhpcy4kZWwuYXBwZW5kKF90aGlzLmNhbnZhcyk7XG4gICAgICAgIGlmICh0eXBlb2YgR192bWxDYW52YXNNYW5hZ2VyICE9PSBcInVuZGVmaW5lZFwiICYmIEdfdm1sQ2FudmFzTWFuYWdlciAhPT0gbnVsbCkge1xuICAgICAgICAgIEdfdm1sQ2FudmFzTWFuYWdlci5pbml0RWxlbWVudChfdGhpcy5jYW52YXMpO1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmN0eCA9IF90aGlzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICBpZiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gPiAxLjUpIHtcbiAgICAgICAgICAkKF90aGlzLmNhbnZhcykuY3NzKHtcbiAgICAgICAgICAgIHdpZHRoOiBfdGhpcy5vcHRpb25zLnNpemUsXG4gICAgICAgICAgICBoZWlnaHQ6IF90aGlzLm9wdGlvbnMuc2l6ZVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIF90aGlzLmNhbnZhcy53aWR0aCAqPSAyO1xuICAgICAgICAgIF90aGlzLmNhbnZhcy5oZWlnaHQgKj0gMjtcbiAgICAgICAgICBfdGhpcy5jdHguc2NhbGUoMiwgMik7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuY3R4LnRyYW5zbGF0ZShfdGhpcy5vcHRpb25zLnNpemUgLyAyLCBfdGhpcy5vcHRpb25zLnNpemUgLyAyKTtcbiAgICAgICAgX3RoaXMuJGVsLmFkZENsYXNzKCdlYXN5UGllQ2hhcnQnKTtcbiAgICAgICAgX3RoaXMuJGVsLmNzcyh7XG4gICAgICAgICAgd2lkdGg6IF90aGlzLm9wdGlvbnMuc2l6ZSxcbiAgICAgICAgICBoZWlnaHQ6IF90aGlzLm9wdGlvbnMuc2l6ZSxcbiAgICAgICAgICBsaW5lSGVpZ2h0OiBcIlwiICsgX3RoaXMub3B0aW9ucy5zaXplICsgXCJweFwiXG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy51cGRhdGUocGVyY2VudCk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICAgIH07XG4gICAgICB0aGlzLnVwZGF0ZSA9IGZ1bmN0aW9uKHBlcmNlbnQpIHtcbiAgICAgICAgaWYgKF90aGlzLm9wdGlvbnMuYW5pbWF0ZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICByZXR1cm4gZHJhd0xpbmUocGVyY2VudCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGFuaW1hdGVMaW5lKF90aGlzLnBlcmNlbnRhZ2UsIHBlcmNlbnQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcmVuZGVyU2NhbGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGksIF9pLCBfcmVzdWx0cztcbiAgICAgICAgX3RoaXMuY3R4LmZpbGxTdHlsZSA9IF90aGlzLm9wdGlvbnMuc2NhbGVDb2xvcjtcbiAgICAgICAgX3RoaXMuY3R4LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIF9yZXN1bHRzID0gW107XG4gICAgICAgIGZvciAoaSA9IF9pID0gMDsgX2kgPD0gMjQ7IGkgPSArK19pKSB7XG4gICAgICAgICAgX3Jlc3VsdHMucHVzaChhZGRTY2FsZUxpbmUoaSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfcmVzdWx0cztcbiAgICAgIH07XG4gICAgICBhZGRTY2FsZUxpbmUgPSBmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciBvZmZzZXQ7XG4gICAgICAgIG9mZnNldCA9IGkgJSA2ID09PSAwID8gMCA6IF90aGlzLm9wdGlvbnMuc2l6ZSAqIDAuMDE3O1xuICAgICAgICBfdGhpcy5jdHguc2F2ZSgpO1xuICAgICAgICBfdGhpcy5jdHgucm90YXRlKGkgKiBNYXRoLlBJIC8gMTIpO1xuICAgICAgICBfdGhpcy5jdHguZmlsbFJlY3QoX3RoaXMub3B0aW9ucy5zaXplIC8gMiAtIG9mZnNldCwgMCwgLV90aGlzLm9wdGlvbnMuc2l6ZSAqIDAuMDUgKyBvZmZzZXQsIDEpO1xuICAgICAgICByZXR1cm4gX3RoaXMuY3R4LnJlc3RvcmUoKTtcbiAgICAgIH07XG4gICAgICByZW5kZXJUcmFjayA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb2Zmc2V0O1xuICAgICAgICBvZmZzZXQgPSBfdGhpcy5vcHRpb25zLnNpemUgLyAyIC0gX3RoaXMub3B0aW9ucy5saW5lV2lkdGggLyAyO1xuICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy5zY2FsZUNvbG9yICE9PSBmYWxzZSkge1xuICAgICAgICAgIG9mZnNldCAtPSBfdGhpcy5vcHRpb25zLnNpemUgKiAwLjA4O1xuICAgICAgICB9XG4gICAgICAgIF90aGlzLmN0eC5iZWdpblBhdGgoKTtcbiAgICAgICAgX3RoaXMuY3R4LmFyYygwLCAwLCBvZmZzZXQsIDAsIE1hdGguUEkgKiAyLCB0cnVlKTtcbiAgICAgICAgX3RoaXMuY3R4LmNsb3NlUGF0aCgpO1xuICAgICAgICBfdGhpcy5jdHguc3Ryb2tlU3R5bGUgPSBfdGhpcy5vcHRpb25zLnRyYWNrQ29sb3I7XG4gICAgICAgIF90aGlzLmN0eC5saW5lV2lkdGggPSBfdGhpcy5vcHRpb25zLmxpbmVXaWR0aDtcbiAgICAgICAgcmV0dXJuIF90aGlzLmN0eC5zdHJva2UoKTtcbiAgICAgIH07XG4gICAgICByZW5kZXJCYWNrZ3JvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChfdGhpcy5vcHRpb25zLnNjYWxlQ29sb3IgIT09IGZhbHNlKSB7XG4gICAgICAgICAgcmVuZGVyU2NhbGUoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoX3RoaXMub3B0aW9ucy50cmFja0NvbG9yICE9PSBmYWxzZSkge1xuICAgICAgICAgIHJldHVybiByZW5kZXJUcmFjaygpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZHJhd0xpbmUgPSBmdW5jdGlvbihwZXJjZW50KSB7XG4gICAgICAgIHZhciBvZmZzZXQ7XG4gICAgICAgIHJlbmRlckJhY2tncm91bmQoKTtcbiAgICAgICAgX3RoaXMuY3R4LnN0cm9rZVN0eWxlID0gJC5pc0Z1bmN0aW9uKF90aGlzLm9wdGlvbnMuYmFyQ29sb3IpID8gX3RoaXMub3B0aW9ucy5iYXJDb2xvcihwZXJjZW50KSA6IF90aGlzLm9wdGlvbnMuYmFyQ29sb3I7XG4gICAgICAgIF90aGlzLmN0eC5saW5lQ2FwID0gX3RoaXMub3B0aW9ucy5saW5lQ2FwO1xuICAgICAgICBfdGhpcy5jdHgubGluZVdpZHRoID0gX3RoaXMub3B0aW9ucy5saW5lV2lkdGg7XG4gICAgICAgIG9mZnNldCA9IF90aGlzLm9wdGlvbnMuc2l6ZSAvIDIgLSBfdGhpcy5vcHRpb25zLmxpbmVXaWR0aCAvIDI7XG4gICAgICAgIGlmIChfdGhpcy5vcHRpb25zLnNjYWxlQ29sb3IgIT09IGZhbHNlKSB7XG4gICAgICAgICAgb2Zmc2V0IC09IF90aGlzLm9wdGlvbnMuc2l6ZSAqIDAuMDg7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuY3R4LnNhdmUoKTtcbiAgICAgICAgX3RoaXMuY3R4LnJvdGF0ZSgtTWF0aC5QSSAvIDIpO1xuICAgICAgICBfdGhpcy5jdHguYmVnaW5QYXRoKCk7XG4gICAgICAgIF90aGlzLmN0eC5hcmMoMCwgMCwgb2Zmc2V0LCAwLCBNYXRoLlBJICogMiAqIHBlcmNlbnQgLyAxMDAsIGZhbHNlKTtcbiAgICAgICAgX3RoaXMuY3R4LnN0cm9rZSgpO1xuICAgICAgICByZXR1cm4gX3RoaXMuY3R4LnJlc3RvcmUoKTtcbiAgICAgIH07XG4gICAgICBhbmltYXRlTGluZSA9IGZ1bmN0aW9uKGZyb20sIHRvKSB7XG4gICAgICAgIHZhciBjdXJyZW50U3RlcCwgZnBzLCBzdGVwcztcbiAgICAgICAgZnBzID0gMzA7XG4gICAgICAgIHN0ZXBzID0gZnBzICogX3RoaXMub3B0aW9ucy5hbmltYXRlIC8gMTAwMDtcbiAgICAgICAgY3VycmVudFN0ZXAgPSAwO1xuICAgICAgICBfdGhpcy5vcHRpb25zLm9uU3RhcnQuY2FsbChfdGhpcyk7XG4gICAgICAgIF90aGlzLnBlcmNlbnRhZ2UgPSB0bztcbiAgICAgICAgaWYgKF90aGlzLmFuaW1hdGlvbikge1xuICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMuYW5pbWF0aW9uKTtcbiAgICAgICAgICBfdGhpcy5hbmltYXRpb24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXMuYW5pbWF0aW9uID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgX3RoaXMuY3R4LmNsZWFyUmVjdCgtX3RoaXMub3B0aW9ucy5zaXplIC8gMiwgLV90aGlzLm9wdGlvbnMuc2l6ZSAvIDIsIF90aGlzLm9wdGlvbnMuc2l6ZSwgX3RoaXMub3B0aW9ucy5zaXplKTtcbiAgICAgICAgICByZW5kZXJCYWNrZ3JvdW5kLmNhbGwoX3RoaXMpO1xuICAgICAgICAgIGRyYXdMaW5lLmNhbGwoX3RoaXMsIFtlYXNlSW5PdXRRdWFkKGN1cnJlbnRTdGVwLCBmcm9tLCB0byAtIGZyb20sIHN0ZXBzKV0pO1xuICAgICAgICAgIGN1cnJlbnRTdGVwKys7XG4gICAgICAgICAgaWYgKChjdXJyZW50U3RlcCAvIHN0ZXBzKSA+IDEpIHtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoX3RoaXMuYW5pbWF0aW9uKTtcbiAgICAgICAgICAgIF90aGlzLmFuaW1hdGlvbiA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIF90aGlzLm9wdGlvbnMub25TdG9wLmNhbGwoX3RoaXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgMTAwMCAvIGZwcyk7XG4gICAgICB9O1xuICAgICAgZWFzZUluT3V0UXVhZCA9IGZ1bmN0aW9uKHQsIGIsIGMsIGQpIHtcbiAgICAgICAgdmFyIGVhc2VJbiwgZWFzaW5nO1xuICAgICAgICBlYXNlSW4gPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgcmV0dXJuIE1hdGgucG93KHQsIDIpO1xuICAgICAgICB9O1xuICAgICAgICBlYXNpbmcgPSBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgaWYgKHQgPCAxKSB7XG4gICAgICAgICAgICByZXR1cm4gZWFzZUluKHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gMiAtIGVhc2VJbigodCAvIDIpICogLTIgKyAyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHQgLz0gZCAvIDI7XG4gICAgICAgIHJldHVybiBjIC8gMiAqIGVhc2luZyh0KSArIGI7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIHRoaXMuaW5pdCgpO1xuICAgIH07XG4gICAgJC5lYXN5UGllQ2hhcnQuZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICBiYXJDb2xvcjogJyNlZjFlMjUnLFxuICAgICAgdHJhY2tDb2xvcjogJyNmMmYyZjInLFxuICAgICAgc2NhbGVDb2xvcjogJyNkZmUwZTAnLFxuICAgICAgbGluZUNhcDogJ3JvdW5kJyxcbiAgICAgIHNpemU6IDExMCxcbiAgICAgIGxpbmVXaWR0aDogMyxcbiAgICAgIGFuaW1hdGU6IGZhbHNlLFxuICAgICAgb25TdGFydDogJC5ub29wLFxuICAgICAgb25TdG9wOiAkLm5vb3BcbiAgICB9O1xuICAgICQuZm4uZWFzeVBpZUNoYXJ0ID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgcmV0dXJuICQuZWFjaCh0aGlzLCBmdW5jdGlvbihpLCBlbCkge1xuICAgICAgICB2YXIgJGVsO1xuICAgICAgICAkZWwgPSAkKGVsKTtcbiAgICAgICAgaWYgKCEkZWwuZGF0YSgnZWFzeVBpZUNoYXJ0JykpIHtcbiAgICAgICAgICByZXR1cm4gJGVsLmRhdGEoJ2Vhc3lQaWVDaGFydCcsIG5ldyAkLmVhc3lQaWVDaGFydChlbCwgb3B0aW9ucykpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiB2b2lkIDA7XG4gIH0pKGpRdWVyeSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
