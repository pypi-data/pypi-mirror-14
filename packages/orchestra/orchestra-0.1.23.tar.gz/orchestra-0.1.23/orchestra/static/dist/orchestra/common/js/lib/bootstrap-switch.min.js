!function(t){"use strict";t.fn.bootstrapSwitch=function(e){var i={init:function(){return this.each(function(){var e,i,a,n,s,o,c=t(this),d="",r=c.attr("class"),h="ON",l="OFF",f=!1;t.each(["switch-mini","switch-small","switch-large"],function(t,e){r.indexOf(e)>=0&&(d=e)}),c.addClass("has-switch"),void 0!==c.data("on")&&(s="switch-"+c.data("on")),void 0!==c.data("on-label")&&(h=c.data("on-label")),void 0!==c.data("off-label")&&(l=c.data("off-label")),void 0!==c.data("icon")&&(f=c.data("icon")),i=t("<span>").addClass("switch-left").addClass(d).addClass(s).html(h),s="",void 0!==c.data("off")&&(s="switch-"+c.data("off")),a=t("<span>").addClass("switch-right").addClass(d).addClass(s).html(l),n=t("<label>").html("&nbsp;").addClass(d).attr("for",c.find("input").attr("id")),f&&n.html('<i class="'+f+'"></i>'),e=c.find(":checkbox").wrap(t("<div>")).parent().data("animated",!1),c.data("animated")!==!1&&e.addClass("switch-animate").data("animated",!0),e.append(i).append(n).append(a),c.find(">div").addClass(c.find("input").is(":checked")?"switch-on":"switch-off"),c.find("input").is(":disabled")&&t(this).addClass("deactivate");var u=function(t){t.siblings("label").trigger("mousedown").trigger("mouseup").trigger("click")};c.on("keydown",function(e){32===e.keyCode&&(e.stopImmediatePropagation(),e.preventDefault(),u(t(e.target).find("span:first")))}),i.on("click",function(e){u(t(this))}),a.on("click",function(e){u(t(this))}),c.find("input").on("change",function(e){var i=t(this),a=i.parent(),n=i.is(":checked"),s=a.is(".switch-off");e.preventDefault(),a.css("left",""),s===n&&(n?a.removeClass("switch-off").addClass("switch-on"):a.removeClass("switch-on").addClass("switch-off"),a.data("animated")!==!1&&a.addClass("switch-animate"),a.parent().trigger("switch-change",{el:i,value:n}))}),c.find("label").on("mousedown touchstart",function(e){var i=t(this);o=!1,e.preventDefault(),e.stopImmediatePropagation(),i.closest("div").removeClass("switch-animate"),i.closest(".has-switch").is(".deactivate")?i.unbind("click"):(i.on("mousemove touchmove",function(e){var i=t(this).closest(".switch"),a=(e.pageX||e.originalEvent.targetTouches[0].pageX)-i.offset().left,n=a/i.width()*100,s=25,c=75;o=!0,s>n?n=s:n>c&&(n=c),i.find(">div").css("left",n-c+"%")}),i.on("click touchend",function(e){var i=t(this),a=t(e.target),n=a.siblings("input");e.stopImmediatePropagation(),e.preventDefault(),i.unbind("mouseleave"),o?n.prop("checked",!(parseInt(i.parent().css("left"))<-25)):n.prop("checked",!n.is(":checked")),o=!1,n.trigger("change")}),i.on("mouseleave",function(e){var i=t(this),a=i.siblings("input");e.preventDefault(),e.stopImmediatePropagation(),i.unbind("mouseleave"),i.trigger("mouseup"),a.prop("checked",!(parseInt(i.parent().css("left"))<-25)).trigger("change")}),i.on("mouseup",function(e){e.stopImmediatePropagation(),e.preventDefault(),t(this).unbind("mousemove")}))})})},toggleActivation:function(){t(this).toggleClass("deactivate")},isActive:function(){return!t(this).hasClass("deactivate")},setActive:function(e){e?t(this).removeClass("deactivate"):t(this).addClass("deactivate")},toggleState:function(e){var i=t(this).find("input:checkbox");i.prop("checked",!i.is(":checked")).trigger("change",e)},setState:function(e,i){t(this).find("input:checkbox").prop("checked",e).trigger("change",i)},status:function(){return t(this).find("input:checkbox").is(":checked")},destroy:function(){var e,i=t(this).find("div");return i.find(":not(input:checkbox)").remove(),e=i.children(),e.unwrap().unwrap(),e.unbind("change"),e}};return i[e]?i[e].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof e&&e?void t.error("Method "+e+" does not exist!"):i.init.apply(this,arguments)}}(jQuery),$(function(){$(".switch").bootstrapSwitch()});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm9yY2hlc3RyYS9jb21tb24vanMvbGliL2Jvb3RzdHJhcC1zd2l0Y2guanMiXSwibmFtZXMiOlsiJCIsImZuIiwibWV0aG9kIiwibWV0aG9kcyIsImluaXQiLCJ0aGlzIiwiZWFjaCIsIiRkaXYiLCIkc3dpdGNoTGVmdCIsIiRzd2l0Y2hSaWdodCIsIiRsYWJlbCIsImNvbG9yIiwibW92aW5nIiwiJGVsZW1lbnQiLCJteUNsYXNzZXMiLCJjbGFzc2VzIiwiYXR0ciIsIm9uTGFiZWwiLCJvZmZMYWJlbCIsImljb24iLCJpIiwiZWwiLCJpbmRleE9mIiwiYWRkQ2xhc3MiLCJ1bmRlZmluZWQiLCJkYXRhIiwiaHRtbCIsImZpbmQiLCJ3cmFwIiwicGFyZW50IiwiYXBwZW5kIiwiaXMiLCJjaGFuZ2VTdGF0dXMiLCIkdGhpcyIsInNpYmxpbmdzIiwidHJpZ2dlciIsIm9uIiwiZSIsImtleUNvZGUiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsInRhcmdldCIsInRoaXNTdGF0ZSIsInN0YXRlIiwiY3NzIiwicmVtb3ZlQ2xhc3MiLCJ2YWx1ZSIsImNsb3Nlc3QiLCJ1bmJpbmQiLCJyZWxhdGl2ZVgiLCJwYWdlWCIsIm9yaWdpbmFsRXZlbnQiLCJ0YXJnZXRUb3VjaGVzIiwib2Zmc2V0IiwibGVmdCIsInBlcmNlbnQiLCJ3aWR0aCIsInJpZ2h0IiwiJHRhcmdldCIsIiRteUNoZWNrQm94IiwicHJvcCIsInBhcnNlSW50IiwidG9nZ2xlQWN0aXZhdGlvbiIsInRvZ2dsZUNsYXNzIiwiaXNBY3RpdmUiLCJoYXNDbGFzcyIsInNldEFjdGl2ZSIsImFjdGl2ZSIsInRvZ2dsZVN0YXRlIiwic2tpcE9uQ2hhbmdlIiwiJGlucHV0Iiwic2V0U3RhdGUiLCJzdGF0dXMiLCJkZXN0cm95IiwiJGNoZWNrYm94IiwicmVtb3ZlIiwiY2hpbGRyZW4iLCJ1bndyYXAiLCJhcHBseSIsIkFycmF5IiwicHJvdG90eXBlIiwic2xpY2UiLCJjYWxsIiwi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ckYsRUFBRSxXQUNBQSxFQUFFLFdBQVciLCJmaWxlIjoib3JjaGVzdHJhL2NvbW1vbi9qcy9saWIvYm9vdHN0cmFwLXN3aXRjaC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIGJvb3RzdHJhcFN3aXRjaCB2MS4zIGJ5IExhcmVudGlzIE1hdHRpYSBAc3Bpcml0dWFsR3VydVxuICogaHR0cDovL3d3dy5sYXJlbnRpcy5ldS9zd2l0Y2gvXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjBcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09ICovXG5cbiFmdW5jdGlvbiAoJCkge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICAkLmZuWydib290c3RyYXBTd2l0Y2gnXSA9IGZ1bmN0aW9uIChtZXRob2QpIHtcbiAgICB2YXIgbWV0aG9kcyA9IHtcbiAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgJGVsZW1lbnQgPSAkKHRoaXMpXG4gICAgICAgICAgICAgICwgJGRpdlxuICAgICAgICAgICAgICAsICRzd2l0Y2hMZWZ0XG4gICAgICAgICAgICAgICwgJHN3aXRjaFJpZ2h0XG4gICAgICAgICAgICAgICwgJGxhYmVsXG4gICAgICAgICAgICAgICwgbXlDbGFzc2VzID0gXCJcIlxuICAgICAgICAgICAgICAsIGNsYXNzZXMgPSAkZWxlbWVudC5hdHRyKCdjbGFzcycpXG4gICAgICAgICAgICAgICwgY29sb3JcbiAgICAgICAgICAgICAgLCBtb3ZpbmdcbiAgICAgICAgICAgICAgLCBvbkxhYmVsID0gXCJPTlwiXG4gICAgICAgICAgICAgICwgb2ZmTGFiZWwgPSBcIk9GRlwiXG4gICAgICAgICAgICAgICwgaWNvbiA9IGZhbHNlO1xuXG4gICAgICAgICAgICAkLmVhY2goWydzd2l0Y2gtbWluaScsICdzd2l0Y2gtc21hbGwnLCAnc3dpdGNoLWxhcmdlJ10sIGZ1bmN0aW9uIChpLCBlbCkge1xuICAgICAgICAgICAgICBpZiAoY2xhc3Nlcy5pbmRleE9mKGVsKSA+PSAwKVxuICAgICAgICAgICAgICAgIG15Q2xhc3NlcyA9IGVsO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRlbGVtZW50LmFkZENsYXNzKCdoYXMtc3dpdGNoJyk7XG5cbiAgICAgICAgICAgIGlmICgkZWxlbWVudC5kYXRhKCdvbicpICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgIGNvbG9yID0gXCJzd2l0Y2gtXCIgKyAkZWxlbWVudC5kYXRhKCdvbicpO1xuXG4gICAgICAgICAgICBpZiAoJGVsZW1lbnQuZGF0YSgnb24tbGFiZWwnKSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICBvbkxhYmVsID0gJGVsZW1lbnQuZGF0YSgnb24tbGFiZWwnKTtcblxuICAgICAgICAgICAgaWYgKCRlbGVtZW50LmRhdGEoJ29mZi1sYWJlbCcpICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgIG9mZkxhYmVsID0gJGVsZW1lbnQuZGF0YSgnb2ZmLWxhYmVsJyk7XG5cbiAgICAgICAgICAgIGlmICgkZWxlbWVudC5kYXRhKCdpY29uJykgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgaWNvbiA9ICRlbGVtZW50LmRhdGEoJ2ljb24nKTtcblxuICAgICAgICAgICAgJHN3aXRjaExlZnQgPSAkKCc8c3Bhbj4nKVxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoXCJzd2l0Y2gtbGVmdFwiKVxuICAgICAgICAgICAgICAuYWRkQ2xhc3MobXlDbGFzc2VzKVxuICAgICAgICAgICAgICAuYWRkQ2xhc3MoY29sb3IpXG4gICAgICAgICAgICAgIC5odG1sKG9uTGFiZWwpO1xuXG4gICAgICAgICAgICBjb2xvciA9ICcnO1xuICAgICAgICAgICAgaWYgKCRlbGVtZW50LmRhdGEoJ29mZicpICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgIGNvbG9yID0gXCJzd2l0Y2gtXCIgKyAkZWxlbWVudC5kYXRhKCdvZmYnKTtcblxuICAgICAgICAgICAgJHN3aXRjaFJpZ2h0ID0gJCgnPHNwYW4+JylcbiAgICAgICAgICAgICAgLmFkZENsYXNzKFwic3dpdGNoLXJpZ2h0XCIpXG4gICAgICAgICAgICAgIC5hZGRDbGFzcyhteUNsYXNzZXMpXG4gICAgICAgICAgICAgIC5hZGRDbGFzcyhjb2xvcilcbiAgICAgICAgICAgICAgLmh0bWwob2ZmTGFiZWwpO1xuXG4gICAgICAgICAgICAkbGFiZWwgPSAkKCc8bGFiZWw+JylcbiAgICAgICAgICAgICAgLmh0bWwoXCImbmJzcDtcIilcbiAgICAgICAgICAgICAgLmFkZENsYXNzKG15Q2xhc3NlcylcbiAgICAgICAgICAgICAgLmF0dHIoJ2ZvcicsICRlbGVtZW50LmZpbmQoJ2lucHV0JykuYXR0cignaWQnKSk7XG5cbiAgICAgICAgICAgIGlmIChpY29uKSB7XG4gICAgICAgICAgICAgICRsYWJlbC5odG1sKCc8aSBjbGFzcz1cIicgKyBpY29uICsgJ1wiPjwvaT4nKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgJGRpdiA9ICRlbGVtZW50LmZpbmQoJzpjaGVja2JveCcpLndyYXAoJCgnPGRpdj4nKSkucGFyZW50KCkuZGF0YSgnYW5pbWF0ZWQnLCBmYWxzZSk7XG5cbiAgICAgICAgICAgIGlmICgkZWxlbWVudC5kYXRhKCdhbmltYXRlZCcpICE9PSBmYWxzZSlcbiAgICAgICAgICAgICAgJGRpdi5hZGRDbGFzcygnc3dpdGNoLWFuaW1hdGUnKS5kYXRhKCdhbmltYXRlZCcsIHRydWUpO1xuXG4gICAgICAgICAgICAkZGl2XG4gICAgICAgICAgICAgIC5hcHBlbmQoJHN3aXRjaExlZnQpXG4gICAgICAgICAgICAgIC5hcHBlbmQoJGxhYmVsKVxuICAgICAgICAgICAgICAuYXBwZW5kKCRzd2l0Y2hSaWdodCk7XG5cbiAgICAgICAgICAgICRlbGVtZW50LmZpbmQoJz5kaXYnKS5hZGRDbGFzcyhcbiAgICAgICAgICAgICAgJGVsZW1lbnQuZmluZCgnaW5wdXQnKS5pcygnOmNoZWNrZWQnKSA/ICdzd2l0Y2gtb24nIDogJ3N3aXRjaC1vZmYnXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICBpZiAoJGVsZW1lbnQuZmluZCgnaW5wdXQnKS5pcygnOmRpc2FibGVkJykpXG4gICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2RlYWN0aXZhdGUnKTtcblxuICAgICAgICAgICAgdmFyIGNoYW5nZVN0YXR1cyA9IGZ1bmN0aW9uICgkdGhpcykge1xuICAgICAgICAgICAgICAkdGhpcy5zaWJsaW5ncygnbGFiZWwnKS50cmlnZ2VyKCdtb3VzZWRvd24nKS50cmlnZ2VyKCdtb3VzZXVwJykudHJpZ2dlcignY2xpY2snKTtcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICRlbGVtZW50Lm9uKCdrZXlkb3duJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMzIpIHtcbiAgICAgICAgICAgICAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBjaGFuZ2VTdGF0dXMoJChlLnRhcmdldCkuZmluZCgnc3BhbjpmaXJzdCcpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRzd2l0Y2hMZWZ0Lm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIGNoYW5nZVN0YXR1cygkKHRoaXMpKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkc3dpdGNoUmlnaHQub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgY2hhbmdlU3RhdHVzKCQodGhpcykpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICRlbGVtZW50LmZpbmQoJ2lucHV0Jykub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgICAgICAgICAgICAsICRlbGVtZW50ID0gJHRoaXMucGFyZW50KClcbiAgICAgICAgICAgICAgICAsIHRoaXNTdGF0ZSA9ICR0aGlzLmlzKCc6Y2hlY2tlZCcpXG4gICAgICAgICAgICAgICAgLCBzdGF0ZSA9ICRlbGVtZW50LmlzKCcuc3dpdGNoLW9mZicpO1xuXG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAkZWxlbWVudC5jc3MoJ2xlZnQnLCAnJyk7XG5cbiAgICAgICAgICAgICAgaWYgKHN0YXRlID09PSB0aGlzU3RhdGUpIHtcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzU3RhdGUpXG4gICAgICAgICAgICAgICAgICAkZWxlbWVudC5yZW1vdmVDbGFzcygnc3dpdGNoLW9mZicpLmFkZENsYXNzKCdzd2l0Y2gtb24nKTtcbiAgICAgICAgICAgICAgICBlbHNlICRlbGVtZW50LnJlbW92ZUNsYXNzKCdzd2l0Y2gtb24nKS5hZGRDbGFzcygnc3dpdGNoLW9mZicpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCRlbGVtZW50LmRhdGEoJ2FuaW1hdGVkJykgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgJGVsZW1lbnQuYWRkQ2xhc3MoXCJzd2l0Y2gtYW5pbWF0ZVwiKTtcblxuICAgICAgICAgICAgICAgICRlbGVtZW50LnBhcmVudCgpLnRyaWdnZXIoJ3N3aXRjaC1jaGFuZ2UnLCB7J2VsJzogJHRoaXMsICd2YWx1ZSc6IHRoaXNTdGF0ZX0pXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAkZWxlbWVudC5maW5kKCdsYWJlbCcpLm9uKCdtb3VzZWRvd24gdG91Y2hzdGFydCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICAgIG1vdmluZyA9IGZhbHNlO1xuXG4gICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgZS5zdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgICAgICAkdGhpcy5jbG9zZXN0KCdkaXYnKS5yZW1vdmVDbGFzcygnc3dpdGNoLWFuaW1hdGUnKTtcblxuICAgICAgICAgICAgICBpZiAoJHRoaXMuY2xvc2VzdCgnLmhhcy1zd2l0Y2gnKS5pcygnLmRlYWN0aXZhdGUnKSlcbiAgICAgICAgICAgICAgICAkdGhpcy51bmJpbmQoJ2NsaWNrJyk7XG4gICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICR0aGlzLm9uKCdtb3VzZW1vdmUgdG91Y2htb3ZlJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciAkZWxlbWVudCA9ICQodGhpcykuY2xvc2VzdCgnLnN3aXRjaCcpXG4gICAgICAgICAgICAgICAgICAgICwgcmVsYXRpdmVYID0gKGUucGFnZVggfHwgZS5vcmlnaW5hbEV2ZW50LnRhcmdldFRvdWNoZXNbMF0ucGFnZVgpIC0gJGVsZW1lbnQub2Zmc2V0KCkubGVmdFxuICAgICAgICAgICAgICAgICAgICAsIHBlcmNlbnQgPSAocmVsYXRpdmVYIC8gJGVsZW1lbnQud2lkdGgoKSkgKiAxMDBcbiAgICAgICAgICAgICAgICAgICAgLCBsZWZ0ID0gMjVcbiAgICAgICAgICAgICAgICAgICAgLCByaWdodCA9IDc1O1xuXG4gICAgICAgICAgICAgICAgICBtb3ZpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICAgICAgICBpZiAocGVyY2VudCA8IGxlZnQpXG4gICAgICAgICAgICAgICAgICAgIHBlcmNlbnQgPSBsZWZ0O1xuICAgICAgICAgICAgICAgICAgZWxzZSBpZiAocGVyY2VudCA+IHJpZ2h0KVxuICAgICAgICAgICAgICAgICAgICBwZXJjZW50ID0gcmlnaHQ7XG5cbiAgICAgICAgICAgICAgICAgICRlbGVtZW50LmZpbmQoJz5kaXYnKS5jc3MoJ2xlZnQnLCAocGVyY2VudCAtIHJpZ2h0KSArIFwiJVwiKVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJHRoaXMub24oJ2NsaWNrIHRvdWNoZW5kJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcylcbiAgICAgICAgICAgICAgICAgICAgLCAkdGFyZ2V0ID0gJChlLnRhcmdldClcbiAgICAgICAgICAgICAgICAgICAgLCAkbXlDaGVja0JveCA9ICR0YXJnZXQuc2libGluZ3MoJ2lucHV0Jyk7XG5cbiAgICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAgICR0aGlzLnVuYmluZCgnbW91c2VsZWF2ZScpO1xuXG4gICAgICAgICAgICAgICAgICBpZiAobW92aW5nKVxuICAgICAgICAgICAgICAgICAgICAkbXlDaGVja0JveC5wcm9wKCdjaGVja2VkJywgIShwYXJzZUludCgkdGhpcy5wYXJlbnQoKS5jc3MoJ2xlZnQnKSkgPCAtMjUpKTtcbiAgICAgICAgICAgICAgICAgIGVsc2UgJG15Q2hlY2tCb3gucHJvcChcImNoZWNrZWRcIiwgISRteUNoZWNrQm94LmlzKFwiOmNoZWNrZWRcIikpO1xuXG4gICAgICAgICAgICAgICAgICBtb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICRteUNoZWNrQm94LnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgJHRoaXMub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgdmFyICR0aGlzID0gJCh0aGlzKVxuICAgICAgICAgICAgICAgICAgICAsICRteUNoZWNrQm94ID0gJHRoaXMuc2libGluZ3MoJ2lucHV0Jyk7XG5cbiAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICAgICAgICAgICR0aGlzLnVuYmluZCgnbW91c2VsZWF2ZScpO1xuICAgICAgICAgICAgICAgICAgJHRoaXMudHJpZ2dlcignbW91c2V1cCcpO1xuXG4gICAgICAgICAgICAgICAgICAkbXlDaGVja0JveC5wcm9wKCdjaGVja2VkJywgIShwYXJzZUludCgkdGhpcy5wYXJlbnQoKS5jc3MoJ2xlZnQnKSkgPCAtMjUpKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICR0aGlzLm9uKCdtb3VzZXVwJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAgICQodGhpcykudW5iaW5kKCdtb3VzZW1vdmUnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgfSxcbiAgICAgIHRvZ2dsZUFjdGl2YXRpb246IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgJCh0aGlzKS50b2dnbGVDbGFzcygnZGVhY3RpdmF0ZScpO1xuICAgICAgfSxcbiAgICAgIGlzQWN0aXZlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAhJCh0aGlzKS5oYXNDbGFzcygnZGVhY3RpdmF0ZScpO1xuICAgICAgfSxcbiAgICAgIHNldEFjdGl2ZTogZnVuY3Rpb24gKGFjdGl2ZSkge1xuICAgICAgICBpZiAoYWN0aXZlKVxuICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2RlYWN0aXZhdGUnKTtcbiAgICAgICAgZWxzZSAkKHRoaXMpLmFkZENsYXNzKCdkZWFjdGl2YXRlJyk7XG4gICAgICB9LFxuICAgICAgdG9nZ2xlU3RhdGU6IGZ1bmN0aW9uIChza2lwT25DaGFuZ2UpIHtcbiAgICAgICAgdmFyICRpbnB1dCA9ICQodGhpcykuZmluZCgnaW5wdXQ6Y2hlY2tib3gnKTtcbiAgICAgICAgJGlucHV0LnByb3AoJ2NoZWNrZWQnLCAhJGlucHV0LmlzKCc6Y2hlY2tlZCcpKS50cmlnZ2VyKCdjaGFuZ2UnLCBza2lwT25DaGFuZ2UpO1xuICAgICAgfSxcbiAgICAgIHNldFN0YXRlOiBmdW5jdGlvbiAodmFsdWUsIHNraXBPbkNoYW5nZSkge1xuICAgICAgICAkKHRoaXMpLmZpbmQoJ2lucHV0OmNoZWNrYm94JykucHJvcCgnY2hlY2tlZCcsIHZhbHVlKS50cmlnZ2VyKCdjaGFuZ2UnLCBza2lwT25DaGFuZ2UpO1xuICAgICAgfSxcbiAgICAgIHN0YXR1czogZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gJCh0aGlzKS5maW5kKCdpbnB1dDpjaGVja2JveCcpLmlzKCc6Y2hlY2tlZCcpO1xuICAgICAgfSxcbiAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyICRkaXYgPSAkKHRoaXMpLmZpbmQoJ2RpdicpXG4gICAgICAgICAgLCAkY2hlY2tib3g7XG5cbiAgICAgICAgJGRpdi5maW5kKCc6bm90KGlucHV0OmNoZWNrYm94KScpLnJlbW92ZSgpO1xuXG4gICAgICAgICRjaGVja2JveCA9ICRkaXYuY2hpbGRyZW4oKTtcbiAgICAgICAgJGNoZWNrYm94LnVud3JhcCgpLnVud3JhcCgpO1xuXG4gICAgICAgICRjaGVja2JveC51bmJpbmQoJ2NoYW5nZScpO1xuXG4gICAgICAgIHJldHVybiAkY2hlY2tib3g7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGlmIChtZXRob2RzW21ldGhvZF0pXG4gICAgICByZXR1cm4gbWV0aG9kc1ttZXRob2RdLmFwcGx5KHRoaXMsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIGVsc2UgaWYgKHR5cGVvZiBtZXRob2QgPT09ICdvYmplY3QnIHx8ICFtZXRob2QpXG4gICAgICByZXR1cm4gbWV0aG9kcy5pbml0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgZWxzZVxuICAgICAgJC5lcnJvcignTWV0aG9kICcgKyBtZXRob2QgKyAnIGRvZXMgbm90IGV4aXN0IScpO1xuICB9O1xufShqUXVlcnkpO1xuXG4kKGZ1bmN0aW9uICgpIHtcbiAgJCgnLnN3aXRjaCcpWydib290c3RyYXBTd2l0Y2gnXSgpO1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
