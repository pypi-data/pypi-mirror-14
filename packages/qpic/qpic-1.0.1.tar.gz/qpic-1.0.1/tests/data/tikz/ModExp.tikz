\providecommand{\mynus}[1][.7]{\scalebox{#1}{-}}
\providecommand{\ket}[1]{{\left\vert{#1}\right\rangle}}
\begin{tikzpicture}[scale=1.300000,x=1pt,y=1pt]
\filldraw[color=white] (0.000000, -7.500000) rectangle (190.000000, 82.500000);
% Drawing wires
% Line 4: xn1 W \ket{x_{n\mynus1}} \ket{x_{n\mynus1}}
\draw[color=black] (0.000000,75.000000) -- (190.000000,75.000000);
\draw[color=black] (0.000000,75.000000) node[left] {$\ket{x_{n\mynus1}}$};
% Line 5: ...1 W
\draw[color=black] (0.000000,60.000000) node[anchor=mid east] {$\vdots$};
% Line 6: xi W \ket{x_i} \ket{x_i}
\draw[color=black] (0.000000,45.000000) -- (190.000000,45.000000);
\draw[color=black] (0.000000,45.000000) node[left] {$\ket{x_i}$};
% Line 7: ...2 W
\draw[color=black] (0.000000,30.000000) node[anchor=mid east] {$\vdots$};
% Line 9: x0 W \ket{x_0} \ket{x_0}
\draw[color=black] (0.000000,15.000000) -- (190.000000,15.000000);
\draw[color=black] (0.000000,15.000000) node[left] {$\ket{x_0}$};
% Line 10: y W \ket{y} \ket{y\cdot{}a^x\bmod{}N}
\draw[color=black] (0.000000,0.000000) -- (190.000000,0.000000);
\draw[color=black] (0.000000,0.000000) node[left] {$\ket{y}$};
% Done with wires; drawing gates
% Line 12: y G $M_N(a)$ x0 width=25
\draw (18.500000,15.000000) -- (18.500000,0.000000);
\begin{scope}
\draw[fill=white] (18.500000, -0.000000) +(-45.000000:17.677670pt and 8.485281pt) -- +(45.000000:17.677670pt and 8.485281pt) -- +(135.000000:17.677670pt and 8.485281pt) -- +(225.000000:17.677670pt and 8.485281pt) -- cycle;
\clip (18.500000, -0.000000) +(-45.000000:17.677670pt and 8.485281pt) -- +(45.000000:17.677670pt and 8.485281pt) -- +(135.000000:17.677670pt and 8.485281pt) -- +(225.000000:17.677670pt and 8.485281pt) -- cycle;
\draw (18.500000, -0.000000) node {$M_N(a)$};
\end{scope}
\filldraw (18.500000, 15.000000) circle(1.500000pt);
% Line 13: LABEL ...
\draw[color=black] (50.500000, 75.000000) node [fill=white] {$\cdots$};
\draw[color=black] (50.500000, 45.000000) node [fill=white] {$\cdots$};
\draw[color=black] (50.500000, 15.000000) node [fill=white] {$\cdots$};
\draw[color=black] (50.500000, 0.000000) node [fill=white] {$\cdots$};
% Line 14: y G $M_N(a^{2^i})$ xi width=35
\draw (87.500000,45.000000) -- (87.500000,0.000000);
\begin{scope}
\draw[fill=white] (87.500000, -0.000000) +(-45.000000:24.748737pt and 8.485281pt) -- +(45.000000:24.748737pt and 8.485281pt) -- +(135.000000:24.748737pt and 8.485281pt) -- +(225.000000:24.748737pt and 8.485281pt) -- cycle;
\clip (87.500000, -0.000000) +(-45.000000:24.748737pt and 8.485281pt) -- +(45.000000:24.748737pt and 8.485281pt) -- +(135.000000:24.748737pt and 8.485281pt) -- +(225.000000:24.748737pt and 8.485281pt) -- cycle;
\draw (87.500000, -0.000000) node {$M_N(a^{2^i})$};
\end{scope}
\filldraw (87.500000, 45.000000) circle(1.500000pt);
% Line 15: LABEL ...
\draw[color=black] (124.500000, 75.000000) node [fill=white] {$\cdots$};
\draw[color=black] (124.500000, 45.000000) node [fill=white] {$\cdots$};
\draw[color=black] (124.500000, 15.000000) node [fill=white] {$\cdots$};
\draw[color=black] (124.500000, 0.000000) node [fill=white] {$\cdots$};
% Line 16: y G $M_N(a^{2^{n\mynus1}})$ xn1 width=40
\draw (164.000000,75.000000) -- (164.000000,0.000000);
\begin{scope}
\draw[fill=white] (164.000000, -0.000000) +(-45.000000:28.284271pt and 8.485281pt) -- +(45.000000:28.284271pt and 8.485281pt) -- +(135.000000:28.284271pt and 8.485281pt) -- +(225.000000:28.284271pt and 8.485281pt) -- cycle;
\clip (164.000000, -0.000000) +(-45.000000:28.284271pt and 8.485281pt) -- +(45.000000:28.284271pt and 8.485281pt) -- +(135.000000:28.284271pt and 8.485281pt) -- +(225.000000:28.284271pt and 8.485281pt) -- cycle;
\draw (164.000000, -0.000000) node {$M_N(a^{2^{n\mynus1}})$};
\end{scope}
\filldraw (164.000000, 75.000000) circle(1.500000pt);
% Done with gates; drawing ending labels
\draw[color=black] (190.000000,75.000000) node[right] {$\ket{x_{n\mynus1}}$};
\draw[color=black] (190.000000,60.000000) node[anchor=mid west] {$\vdots$};
\draw[color=black] (190.000000,45.000000) node[right] {$\ket{x_i}$};
\draw[color=black] (190.000000,30.000000) node[anchor=mid west] {$\vdots$};
\draw[color=black] (190.000000,15.000000) node[right] {$\ket{x_0}$};
\draw[color=black] (190.000000,0.000000) node[right] {$\ket{y\cdot{}a^x\bmod{}N}$};
% Done with ending labels; drawing cut lines and comments
% Done with comments
\end{tikzpicture}
