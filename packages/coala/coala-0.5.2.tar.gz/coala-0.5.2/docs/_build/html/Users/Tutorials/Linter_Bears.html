

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Linter Bears &mdash; coala 0.5.2 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="coala 0.5.2 documentation" href="../../index.html"/>
        <link rel="next" title="Bears That Can Suggest And Make Corrections" href="Self_Correcting_Bears.html"/>
        <link rel="prev" title="Guide to Write a Bear" href="Writing_Bears.html"/> 

  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> coala
          

          
          </a>

          
            
            
              <div class="version">
                0.5.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Home</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../index.html">Welcome</a></li>
</ul>
<p class="caption"><span class="caption-text">For Users</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../coafile.html">coafile Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Glob_Patterns.html">Glob Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Exit_Codes.html">Exit Codes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../External_APIs.html">External APIs</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Git_Hooks.html">Git Hooks</a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="Tutorial.html">First Step</a></li>
<li class="toctree-l1"><a class="reference internal" href="Writing_Bears.html">Writing Bears</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Linter Bears</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#why-is-this-useful">Why is This Useful?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#what-do-we-need">What do we Need?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#writing-the-bear">Writing the Bear</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-settings-to-our-bear">Adding Settings to our Bear</a></li>
<li class="toctree-l2"><a class="reference internal" href="#right-place-for-filename">Right place for &#8216;{filename}&#8217;</a></li>
<li class="toctree-l2"><a class="reference internal" href="#finished-bear">Finished Bear</a></li>
<li class="toctree-l2"><a class="reference internal" href="#running-and-testing-our-bear">Running and Testing our Bear</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Self_Correcting_Bears.html">Linter Bears - Suggest corrections</a></li>
<li class="toctree-l1"><a class="reference internal" href="Git_Help.html">Git Help</a></li>
</ul>
<p class="caption"><span class="caption-text">Getting Involved</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Getting_Involved/Newcomers.html">Newcomers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Getting_Involved/README.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Getting_Involved/Codestyle.html">Codestyle</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Getting_Involved/Writing_Good_Commits.html">Commit Style</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Getting_Involved/Testing.html">Executing Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Getting_Involved/Review.html">Review</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Getting_Involved/Writing_Tests.html">Writing Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Getting_Involved/Writing_Documentation.html">Writing Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Getting_Involved/MAC_Hints.html">MAC Hints</a></li>
</ul>
<p class="caption"><span class="caption-text">General Developer Information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../General_Dev_Info/git_tutorial_1.html">A Hitchhiker&#8217;s Guide to Git (1): Genesis</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../API/modules.html">List of Modules</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">coala</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
    <li>Linter Bears</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/Users/Tutorials/Linter_Bears.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="linter-bears">
<h1>Linter Bears<a class="headerlink" href="#linter-bears" title="Permalink to this headline">¶</a></h1>
<p>Welcome. This tutorial aims to show you how to use the Lint
class in order to integrate linters in your bears.</p>
<div class="section" id="why-is-this-useful">
<h2>Why is This Useful?<a class="headerlink" href="#why-is-this-useful" title="Permalink to this headline">¶</a></h2>
<p>A lot of programming languages already have linters implemented, so if your
project uses a language that does not already have a linter Bear you might
need to implement it on your own. Don&#8217;t worry, it&#8217;s easy!</p>
</div>
<div class="section" id="what-do-we-need">
<h2>What do we Need?<a class="headerlink" href="#what-do-we-need" title="Permalink to this headline">¶</a></h2>
<p>First of all, we need the linter that we are going to use.
In this tutorial we will build the HTMLTutorialBear so we need an html
linter.
<a class="reference external" href="https://github.com/deezer/html-linter">This</a> one will do.
Since it is a python package we can go ahead and install it with</p>
<div class="highlight-python"><div class="highlight"><pre>$ pip install html-linter
</pre></div>
</div>
</div>
<div class="section" id="writing-the-bear">
<h2>Writing the Bear<a class="headerlink" href="#writing-the-bear" title="Permalink to this headline">¶</a></h2>
<p>Since we are going to use the Lint class we should go ahead and
import it together with LocalBear (all bears that handle only one file
inherit from LocalBear). Also we will go ahead and write the class
head. It should inherit both LocalBear and Lint.</p>
<div class="highlight-python"><div class="highlight"><pre>from coalib.bearlib.abstractions.Lint import Lint
from coalib.bears.LocalBear import LocalBear

class HTMLTutorialBear(LocalBear, Lint):
</pre></div>
</div>
<p>To make our bear use a linter we will have to overwrite some of the
predefined values of the Lint class. Some of the most important are
<code class="docutils literal"><span class="pre">executable</span></code> and <code class="docutils literal"><span class="pre">output_regex</span></code>.</p>
<p>We use <code class="docutils literal"><span class="pre">executable</span></code> to specify the linter executable. In our case it would
be</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">executable</span> <span class="o">=</span> <span class="s1">&#39;html_lint.py&#39;</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">output_regex</span></code> is used to group parts of the output (such as <code class="docutils literal"><span class="pre">lines</span></code>,
<code class="docutils literal"><span class="pre">columns</span></code>, <code class="docutils literal"><span class="pre">severity</span></code> and <code class="docutils literal"><span class="pre">message</span></code>) so it can be used by the Lint
class to yield Results (more on communicating with the user
<a class="reference internal" href="Writing_Bears.html"><em>Writing Bears</em></a>).</p>
<p>In order to figure out the <code class="docutils literal"><span class="pre">output_regex</span></code> we have to first see how the
linter output looks. I will use this file as <code class="docutils literal"><span class="pre">sample.html</span></code></p>
<div class="highlight-python"><div class="highlight"><pre>&lt;html&gt;
  &lt;body&gt;
    &lt;h1&gt;Hello, world!&lt;/h1&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre></div>
</div>
<p>Now we can run</p>
<div class="highlight-python"><div class="highlight"><pre>$ html_lint.py sample.html
1:1: Info: Optional Tags: Omit optional tags (optional): You may remove the opening &quot;html&quot; tag.
2:3: Info: Optional Tags: Omit optional tags (optional): You may remove the opening &quot;body&quot; tag.
4:3: Info: Optional Tags: Omit optional tags (optional): You may remove the closing &quot;body&quot; tag.
5:1: Info: Optional Tags: Omit optional tags (optional): You may remove the closing &quot;html&quot; tag.
</pre></div>
</div>
<p>Our <code class="docutils literal"><span class="pre">output_regex</span></code> should look like this</p>
<div class="highlight-python"><div class="highlight"><pre>(line):(column): (severity): (message)
</pre></div>
</div>
<p>Or in <a class="reference external" href="https://docs.python.org/3/library/re.html">python regex</a></p>
<div class="highlight-python"><div class="highlight"><pre>(?P&lt;line&gt;\d+):(?P&lt;column&gt;\d+):\s(?P&lt;severity&gt;Error|Warning|Info):\s(?P&lt;message&gt;.+)
</pre></div>
</div>
<p>Now that we found out our <code class="docutils literal"><span class="pre">output_regex</span></code> (we might want to test it just
to be sure, <a class="reference external" href="https://regex101.com/#python">https://regex101.com/#python</a> is a great tool for this purpose).
We can now compile and add our regex using the <code class="docutils literal"><span class="pre">re</span></code> python library like so
(the regex was split into 2 lines to focus on readability)</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">re</span>

<span class="kn">from</span> <span class="nn">coalib.bearlib.abstractions.Lint</span> <span class="kn">import</span> <span class="n">Lint</span>
<span class="kn">from</span> <span class="nn">coalib.bears.LocalBear</span> <span class="kn">import</span> <span class="n">LocalBear</span>


<span class="k">class</span> <span class="nc">HTMLTutorialBear</span><span class="p">(</span><span class="n">LocalBear</span><span class="p">,</span> <span class="n">Lint</span><span class="p">):</span>
    <span class="n">executable</span> <span class="o">=</span> <span class="s1">&#39;html_lint.py&#39;</span>
    <span class="n">output_regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
        <span class="s1">r&#39;(?P&lt;line&gt;\d+):(?P&lt;column&gt;\d+):\s&#39;</span>
        <span class="s1">r&#39;(?P&lt;severity&gt;Error|Warning|Info):\s(?P&lt;message&gt;.+)&#39;</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>coala uses three types of severities</p>
<ul class="simple">
<li>INFO</li>
<li>NORMAL</li>
<li>MAJOR</li>
</ul>
<p>which are defined in <code class="docutils literal"><span class="pre">coalib.results.RESULT_SEVERITY</span></code>. In order to use
the severity group from the regex we will first have to map the output
severities (as seen in the linter and as used in the regex above
<code class="docutils literal"><span class="pre">Info</span></code>, <code class="docutils literal"><span class="pre">Warning</span></code>, <code class="docutils literal"><span class="pre">Error</span></code>) to the defined coala severities
(above stated <code class="docutils literal"><span class="pre">INFO</span></code>, <code class="docutils literal"><span class="pre">NORMAL</span></code>, <code class="docutils literal"><span class="pre">MAJOR</span></code>).</p>
<p>Luckily for us the Lint class provides us with the <code class="docutils literal"><span class="pre">severity_map</span></code>
property. <code class="docutils literal"><span class="pre">severity_map</span></code> is just a dictionary of strings that
should be mapped to the define coala severities. Let&#8217;s go ahead and import
<code class="docutils literal"><span class="pre">coalib.results.RESULT_SEVERITY</span></code> and write our <code class="docutils literal"><span class="pre">severity_map</span></code>. Our code
could look like this</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">re</span>

<span class="kn">from</span> <span class="nn">coalib.bearlib.abstractions.Lint</span> <span class="kn">import</span> <span class="n">Lint</span>
<span class="kn">from</span> <span class="nn">coalib.bears.LocalBear</span> <span class="kn">import</span> <span class="n">LocalBear</span>
<span class="kn">from</span> <span class="nn">coalib.results.RESULT_SEVERITY</span> <span class="kn">import</span> <span class="n">RESULT_SEVERITY</span>


<span class="k">class</span> <span class="nc">HTMLTutorialBear</span><span class="p">(</span><span class="n">LocalBear</span><span class="p">,</span> <span class="n">Lint</span><span class="p">):</span>
    <span class="n">executable</span> <span class="o">=</span> <span class="s1">&#39;html_lint.py&#39;</span>
    <span class="n">output_regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
        <span class="s1">r&#39;(?P&lt;line&gt;\d+):(?P&lt;column&gt;\d+):\s&#39;</span>
        <span class="s1">r&#39;(?P&lt;severity&gt;Error|Warning|Info):\s(?P&lt;message&gt;.+)&#39;</span>
    <span class="p">)</span>
    <span class="n">severity_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Info&quot;</span><span class="p">:</span> <span class="n">RESULT_SEVERITY</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span>
        <span class="s2">&quot;Warning&quot;</span><span class="p">:</span> <span class="n">RESULT_SEVERITY</span><span class="o">.</span><span class="n">NORMAL</span><span class="p">,</span>
        <span class="s2">&quot;Error&quot;</span><span class="p">:</span> <span class="n">RESULT_SEVERITY</span><span class="o">.</span><span class="n">MAJOR</span>
    <span class="p">}</span>
</pre></div>
</div>
<p>As with every other bear (see <a class="reference internal" href="Writing_Bears.html"><em>Writing Bears</em></a>) we have
to define our run method.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">filename</span><span class="p">,</span> <span class="nb">file</span><span class="p">):</span>

    <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lint</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
<p>And that should be enough. The lint() method of the Lint class will do the
rest for us.</p>
<p>We can test our bear like this</p>
<div class="highlight-python"><div class="highlight"><pre>$ coala --bear-dirs=. --bears=HTMLTutorialBear --files=sample.html
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">In order for the above command to work we should have 2 files in
our current dir: <code class="docutils literal"><span class="pre">HTMLTutorialBear.py</span></code> and our <code class="docutils literal"><span class="pre">sample.html</span></code>.
Naming is <strong>very</strong> important in coala. coala will look for bears
by their <strong>filename</strong> and display them based on their
<strong>classname</strong>.</p>
</div>
</div>
<div class="section" id="adding-settings-to-our-bear">
<h2>Adding Settings to our Bear<a class="headerlink" href="#adding-settings-to-our-bear" title="Permalink to this headline">¶</a></h2>
<p>If we run</p>
<div class="highlight-python"><div class="highlight"><pre>$ html_lint.py -h
</pre></div>
</div>
<p>We can see that there is a <code class="docutils literal"><span class="pre">--disable</span></code> option which lets us disable some
checks. Let&#8217;s add that functionality to our bear.</p>
<p>First of all we have to import the setting that we are going to use from
coalib. Since <code class="docutils literal"><span class="pre">--disable</span></code> needs a comma separated list we can use a list
to keep our options. For that we will import <code class="docutils literal"><span class="pre">typed_list</span></code> like so</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">coalib.settings.Setting</span> <span class="kn">import</span> <span class="n">typed_list</span>
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">typed_list(item_type)</span></code> is a function that converts the given input
(which the user will pass to the Bear as a setting) into a list of
items and afterwards will apply a conversion to type <code class="docutils literal"><span class="pre">item_type</span></code> to each
item in the list (you can also use basic types like <code class="docutils literal"><span class="pre">int</span></code>, <code class="docutils literal"><span class="pre">bool</span></code>, etc.
see <a class="reference internal" href="Writing_Bears.html"><em>Writing Bears</em></a>)
Next, we have to add our setting as a parameter for the <code class="docutils literal"><span class="pre">run()</span></code> method
of our bear.
We will give the param a sugestive name like <code class="docutils literal"><span class="pre">htmllint_ignore</span></code>.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
        <span class="n">filename</span><span class="p">,</span>
        <span class="nb">file</span><span class="p">,</span>
        <span class="n">htmllint_ignore</span><span class="p">:</span> <span class="n">typed_list</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">=</span><span class="p">[]):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    Checks the code with `html_lint.py` on each file separately.</span>

<span class="sd">    :param htmllint_ignore: List of checkers to ignore.</span>
<span class="sd">    &#39;&#39;&#39;</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The documentation of the param is parsed by coala and it will be used
as help to the user for that specific setting.</p>
</div>
<p>The last thing we need to do is join the strings in the <code class="docutils literal"><span class="pre">html_ignore</span></code>,
append them to <code class="docutils literal"><span class="pre">--disable=</span></code> and add it as an argument. There are alot
of ways of doing that.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">ignore</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">part</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">htmllint_ignore</span><span class="p">)</span>
<span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="o">=</span> <span class="s1">&#39;--disable=&#39;</span> <span class="o">+</span> <span class="n">ignore</span>
<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lint</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="right-place-for-filename">
<h2>Right place for &#8216;{filename}&#8217;<a class="headerlink" href="#right-place-for-filename" title="Permalink to this headline">¶</a></h2>
<p>Depending on where the executable (<code class="docutils literal"><span class="pre">html_lint.py</span></code> in this case) wants the
file-name (eg. <code class="docutils literal"><span class="pre">sample.html</span></code>) to be present in the command which does the
linting, we add <code class="docutils literal"><span class="pre">'{filename}'</span></code> to the arguments. When we run
<code class="docutils literal"><span class="pre">html_lint.py</span> <span class="pre">-h</span></code>, we can see that the command signature is:
<code class="docutils literal"><span class="pre">html5_lint.py</span> <span class="pre">[--disable=DISABLE]</span> <span class="pre">FILENAME...</span></code></p>
<p>So, we want <code class="docutils literal"><span class="pre">'{filename}'</span></code> at the end of the arguments.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="o">=</span> <span class="s1">&#39;--disable=&#39;</span> <span class="o">+</span> <span class="n">ignore</span>
<span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="o">+=</span> <span class="s1">&#39; {filename}&#39;</span>
<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lint</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="finished-bear">
<h2>Finished Bear<a class="headerlink" href="#finished-bear" title="Permalink to this headline">¶</a></h2>
<p>Well done, you made it this far! Now you should have built a fully
functional HTML Lint Bear. If you followed the code from this tutorial
it should look something like this</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">re</span>

<span class="kn">from</span> <span class="nn">coalib.bearlib.abstractions.Lint</span> <span class="kn">import</span> <span class="n">Lint</span>
<span class="kn">from</span> <span class="nn">coalib.bears.LocalBear</span> <span class="kn">import</span> <span class="n">LocalBear</span>
<span class="kn">from</span> <span class="nn">coalib.settings.Setting</span> <span class="kn">import</span> <span class="n">typed_list</span>
<span class="kn">from</span> <span class="nn">coalib.results.RESULT_SEVERITY</span> <span class="kn">import</span> <span class="n">RESULT_SEVERITY</span>


<span class="k">class</span> <span class="nc">HTMLTutorialBear</span><span class="p">(</span><span class="n">LocalBear</span><span class="p">,</span> <span class="n">Lint</span><span class="p">):</span>
    <span class="n">executable</span> <span class="o">=</span> <span class="s1">&#39;html_lint.py&#39;</span>
    <span class="n">output_regex</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
        <span class="s1">r&#39;(?P&lt;line&gt;\d+):(?P&lt;column&gt;\d+):\s&#39;</span>
        <span class="s1">r&#39;(?P&lt;severity&gt;Error|Warning|Info):\s(?P&lt;message&gt;.+)&#39;</span>
    <span class="p">)</span>
    <span class="n">severity_map</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;Info&quot;</span><span class="p">:</span> <span class="n">RESULT_SEVERITY</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span>
        <span class="s2">&quot;Warning&quot;</span><span class="p">:</span> <span class="n">RESULT_SEVERITY</span><span class="o">.</span><span class="n">NORMAL</span><span class="p">,</span>
        <span class="s2">&quot;Error&quot;</span><span class="p">:</span> <span class="n">RESULT_SEVERITY</span><span class="o">.</span><span class="n">MAJOR</span>
    <span class="p">}</span>

    <span class="k">def</span> <span class="nf">run</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span>
            <span class="n">filename</span><span class="p">,</span>
            <span class="nb">file</span><span class="p">,</span>
            <span class="n">htmllint_ignore</span><span class="p">:</span> <span class="n">typed_list</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">        Checks the code with `html_lint.py` on each file separately.</span>

<span class="sd">        :param htmllint_ignore: List of checkers to ignore.</span>
<span class="sd">        &#39;&#39;&#39;</span>
        <span class="n">ignore</span> <span class="o">=</span> <span class="s1">&#39;,&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">part</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">part</span> <span class="ow">in</span> <span class="n">htmllint_ignore</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="o">=</span> <span class="s1">&#39;--disable=&#39;</span> <span class="o">+</span> <span class="n">ignore</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">arguments</span> <span class="o">+=</span> <span class="s1">&#39; {filename}&#39;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">lint</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="running-and-testing-our-bear">
<h2>Running and Testing our Bear<a class="headerlink" href="#running-and-testing-our-bear" title="Permalink to this headline">¶</a></h2>
<p>By running</p>
<div class="highlight-python"><div class="highlight"><pre>$ coala --bear-dirs=. --bears=HTMLTutorialBear -B
</pre></div>
</div>
<p>We can see that our Bear setting is documented properly. To use coala
with our Bear on <cite>sample.html</cite> we run</p>
<div class="highlight-python"><div class="highlight"><pre>$ coala --bear-dirs=. --bears=HTMLTutorialBear --files=sample.html
</pre></div>
</div>
<p>To use our <cite>htmllint_ignore</cite> setting we can do</p>
<div class="highlight-python"><div class="highlight"><pre>$ coala --bear-dirs=. --bears=HTMLTutorialBear \
&gt; -S htmllint_ignore=optional_tag --files=sample.html
</pre></div>
</div>
<p>This will not output anything because all the messages had the
<cite>optional_tag</cite>.</p>
<p>You now know how to write a linter Bear and also how to use it in your
project.
Congratulations!</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="Self_Correcting_Bears.html" class="btn btn-neutral float-right" title="Bears That Can Suggest And Make Corrections" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="Writing_Bears.html" class="btn btn-neutral" title="Guide to Write a Bear" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, The coala Developers.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'0.5.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>