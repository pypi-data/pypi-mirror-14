{% extends 'base.html' %}
{% load static %}
{% load bookFilters %}
{% load nepali %}



{% block css %}
<link href="{% static 'css/entry.css' %}" rel="stylesheet">
{% endblock %}

{% block pre-js-internal %}
// the variables here should come before teh js/entry.js script
{% autoescape off %}
var cols_table = {{ columns_table_json }}
var cols_entry = {{ columns_entry_json }}
var clear_fields ={{ clear_fields }}
{% endautoescape %}
var total_cols_table = cols_table.length;
var total_cols_entry = cols_entry.length;
var language = "EN";
var is_edit = {{ is_edit }};

var no_of_rows = {{ no_of_rows }};
var max_accession_number = parseInt("{{ largest_accession_number }}", 10);
{% endblock %}
<!-- The bootstrap and Jquery libraries will be in the middle, here -->

{% block post-js-external %}
<script src="{% static 'js/entry-move.js' %}"></script>
<script src="{% static 'js/entry.js' %}"></script>
{% endblock %}

{% block extras %}
{% endblock %}


{% block jumbotron %}
{% endblock %}


{% block content %}
<hr>

<div class="container-fluid">
  <div class="container-fluid">
    <div class="col col-sm-8">
      <h3><span class="text-hades">HADES</span> - <span class="text-hades">H</span>ere's <span class="text-hades">A</span>nother <span class="text-hades">D</span>ata <span class="text-hades">E</span>ntry <span class="text-hades">S</span>ystem</h3>
    </div>
  </div>
  <br>
  <div class="container-fluid">
    <div class="col col-sm-12">
      <div class="btn-group">
        <button class="btn btn-success btn-menu" id="saveBook"><span class="glyphicon glyphicon-save"></span> {{ globals.text.save_book }}</button>
        <button class="btn btn-info btn-menu" onclick="clearInputFields()"> <span class="glyphicon glyphicon-erase"></span>  {{ globals.text.clear_fields }}</button>
        {% if book != None %}
        <a class="btn btn-info btn-menu" href="{% url 'book' accNo=book.accession_number%}"><span class="glyphicon glyphicon-info-sign"></span> {{ globals.text.about_book }}</a>
        {% endif %}
      </div> <!-- button group -->
    </div>
  </div>
</div>

<div align=center id="dataEntrySuccessful" class="panel panel-success">
  <div class="panel-heading">
    <b><span> {{globals.text.book_was_saved}}ред</span></b>
  </div>
</div>
<div align=center id="dataEntryUnSuccessful" class="panel panel-danger">
  <div class="panel-heading">
    <b><span> {{globals.text.book_was_not_saved}}ред</span></b>
  </div>
</div>
<br>
{% csrf_token %}
<div id="body" class="container">
  {% for each in columns_for_entry_div %}
  <div class="col col-sm-6">
    {% if each.0 != None %}
    <div class="form-group">
      <label>{{ each.0.1.0|nepali }}</label>
      <font id="input-font" face=''>
        <input type="text" id="{{ each.0.0 }}" mid="{{ each.0.1.1  }}" style="width:100%;" name="{{ each.0.1.0 }}" value="{{ book|getBookValue:each.0.1.1 }}"  placeholder="{{ each.0.1.0 }}" class="form-control input input-{{ each.0.1.1 }}" required {% if each.0.0 == 1 %} autofocus {% endif %} spellcheck="true">
      </font>
    </div>
    {% endif %}
  </div>
  {% if each.1 != None %}
  <div class="col col-sm-6">
    <div class="form-group">
      <label>{{ each.1.1.0|nepali }}</label>
      <font id="input-font" face=''>
        <input type="text" id="{{ each.1.0 }}" mid="{{each.1.1.1  }}" style="width:100%"  name="{{ each.1.1.0 }}" value="{{ book|getBookValue:each.1.1.1 }}" placeholder="{{ each.1.1.0 }}" class="form-control input input-{{ each.1.1.1 }}" required {% if each.1.0 == 1 %} autofocus {% endif %} spellcheck="true">
      </font>
    </div>
  </div>
  {% endif %}
  {% endfor %}
</div>
{% endblock %}
