{% macro table(diagnostic_yield, id_map, show_genes=False) %}
<table class="table table-bordered table-hover">
	<thead>
		<tr>
			<th>{{ _('Sample') }}</th>
			<th>{{ _('Fully covered transcripts') }} [%]</th>
			<th>{{ _('Incompletely covered') }} {{ _('transcripts') }}</th>
			{% if show_genes %}
				<th>{{ _('Incompletely covered') }} {{ _('genes') }}</th>
			{% endif %}
		</tr>
	</thead>
	<tbody>
		{% for sample, data in diagnostic_yield %}
			<tr>
				<td>{{ id_map[sample.sample_id] or sample.sample_id }}</td>
				<td class="text-right">{{ data.diagnostic_yield|round(3) }}</td>
				<td class="text-center">{{ data.count }} / <small>{{ data.total_count }}</small></td>
				{% if show_genes %}
					<td><small>
						{% for transcript in data.transcripts %}
							{{ transcript.gene.gene_id }}
						{% else %}
							-
						{% endfor %}
					</small></td>
				{% endif %}
			</tr>
		{% endfor %}
	</tbody>
</table>
{% endmacro %}
