

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Python Fix Imports 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/default.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="None" href="index.html#document-index" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html#document-index">Python Fix Imports 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="welcome-to-python-fix-imports-s-documentation">
<h1>Welcome to Python Fix Imports&#8217;s documentation<a class="headerlink" href="#welcome-to-python-fix-imports-s-documentation" title="Permalink to this headline">¶</a></h1>
<p>Contents:</p>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><a class="reference internal" href="genindex.html"><em>Index</em></a></li>
<li><a class="reference internal" href="py-modindex.html"><em>Module Index</em></a></li>
<li><a class="reference internal" href="search.html"><em>Search Page</em></a></li>
</ul>
</div>
<div class="section" id="documentation">
<h1>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h1>
<p>Python Fix Imports is a Python module that can automatically reorganize the <tt class="docutils literal"><span class="pre">import</span></tt> statements of
your Python script. Please read the &#8220;Rationale&#8221; section for more information.</p>
<p>This module originally from a script that has been written for the Buildbot project, in order to
help developers ensuring they properly organize their import statements in their Python files.</p>
<div class="section" id="rationale">
<h2>Rationale<a class="headerlink" href="#rationale" title="Permalink to this headline">¶</a></h2>
<p>The beginning of each Python script is the part of the code that is likely to evolve the most over
the lifetime of the file. Imports statements gets added, removed, reorganized all over the time.</p>
<p>Thanks to distributed versioning systems such as Git, several persons can easily work on the same
time on the same file. And the management of the <tt class="docutils literal"><span class="pre">import</span></tt> statements is likely to cause conflict
when each developer adds his modifications.</p>
<p>We really started having the need for an automatic reorganization script when we have set up an
automatic merge of several branches alltogether. Most of the time, the conflicts were found to be on
the <tt class="docutils literal"><span class="pre">import</span></tt> lines.</p>
<p>Here are the rules this <tt class="docutils literal"><span class="pre">fiximports</span></tt> script enforces:</p>
<div class="section" id="rule-1">
<h3>Rule 1<a class="headerlink" href="#rule-1" title="Permalink to this headline">¶</a></h3>
<p>Each import statement only imports one method, class or module.</p>
<p><strong>Yes:</strong></p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">dce</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">fgh</span>
</pre></div>
</div>
<p><strong>No:</strong></p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">dce</span><span class="p">,</span> <span class="n">fgh</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="p">(</span><span class="n">dce</span><span class="p">,</span>
                 <span class="n">fgh</span><span class="p">)</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">dce</span><span class="p">,</span> \
                <span class="n">fgh</span>
</pre></div>
</div>
<p><tt class="docutils literal"><span class="pre">fiximports</span></tt> automatically splits <tt class="docutils literal"><span class="pre">import</span></tt> statements that use a comma. <tt class="docutils literal"><span class="pre">\</span></tt> and parenthesis
are not supported.</p>
<p><strong>Bonus</strong>: let&#8217;s say you want where and how an object &#8220;object_name&#8221; is imported. This rules ensures
you will always find the import occurences of the following search pattern: <tt class="docutils literal"><span class="pre">import</span> <span class="pre">object_name</span></tt>.
No need to do regex, only <a href="#id1"><span class="problematic" id="id2">``</span></a>import `` + what you are looking for.</p>
</div>
<div class="section" id="rule-2">
<h3>Rule 2<a class="headerlink" href="#rule-2" title="Permalink to this headline">¶</a></h3>
<p>Import statements are organized in blocks, separated by an empty line. Each block is alphabetically
sorted.</p>
<p>This removes any ambiguity in the placement of an import line in a given block. When two developers
on two different branches want to add the same import in the same file, the location of this line
will be the same and so the merge if any will be obvious.</p>
<p><strong>Yes:</strong></p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">aaaa</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">bbbb</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">cccc</span>
</pre></div>
</div>
<p><strong>No:</strong></p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">bbbb</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">aaaa</span>
<span class="kn">from</span> <span class="nn">abc</span> <span class="kn">import</span> <span class="n">cccc</span>
</pre></div>
</div>
<p>Sorting only occurs on a given block, if for any reason an import statement needs to be placed after
another one, just add an empty line.</p>
<p><tt class="docutils literal"><span class="pre">fiximports</span></tt> can sort all <tt class="docutils literal"><span class="pre">import</span></tt> statements at once (preserving the &#8216;group&#8217; splitting).</p>
<p>In some project, I tend to enforce the ordering of the groups themself:</p>
<ul>
<li><p class="first">first the standard library imports:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">json</span>
<span class="kn">import</span> <span class="nn">login</span>
<span class="kn">import</span> <span class="nn">os</span>
</pre></div>
</div>
</li>
<li><p class="first">Standart libraries in the form <tt class="docutils literal"><span class="pre">from</span> <span class="pre">...</span> <span class="pre">import</span></tt>:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">textwrap</span> <span class="kn">import</span> <span class="n">dedent</span>
<span class="kn">from</span> <span class="nn">twisted.internet</span> <span class="kn">import</span> <span class="n">defer</span>
</pre></div>
</div>
</li>
<li><p class="first">Project modules with their complete name (always uses <tt class="docutils literal"><span class="pre">from</span> <span class="pre">__future__</span> <span class="pre">import</span> <span class="pre">absolute_import</span></tt>)</p>
<blockquote>
<div><div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">myproject.the.module.name</span> <span class="kn">import</span> <span class="n">ClassName</span>
<span class="kn">from</span> <span class="nn">myproject.the.other.module.name</span> <span class="kn">import</span> <span class="n">TheOtherClassName</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</div>
</div>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s look at the following code:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">datetime</span>
<span class="kn">import</span> <span class="nn">collections</span>

<span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span><span class="p">,</span> <span class="n">UnsupportedOperation</span>
<span class="kn">from</span> <span class="nn">.hooks</span> <span class="kn">import</span> <span class="n">default_hooks</span>
<span class="kn">from</span> <span class="nn">.structures</span> <span class="kn">import</span> <span class="n">CaseInsensitiveDict</span>

<span class="kn">from</span> <span class="nn">.auth</span> <span class="kn">import</span> <span class="n">HTTPBasicAuth</span>
<span class="kn">from</span> <span class="nn">.cookies</span> <span class="kn">import</span> <span class="n">cookiejar_from_dict</span><span class="p">,</span> <span class="n">get_cookie_header</span>
<span class="kn">from</span> <span class="nn">.packages.urllib3.fields</span> <span class="kn">import</span> <span class="n">RequestField</span>
<span class="kn">from</span> <span class="nn">.packages.urllib3.filepost</span> <span class="kn">import</span> <span class="n">encode_multipart_formdata</span>
<span class="kn">from</span> <span class="nn">.packages.urllib3.util</span> <span class="kn">import</span> <span class="n">parse_url</span>
<span class="kn">from</span> <span class="nn">.packages.urllib3.exceptions</span> <span class="kn">import</span> <span class="n">DecodeError</span><span class="p">,</span> <span class="n">ReadTimeoutError</span><span class="p">,</span> <span class="n">ProtocolError</span><span class="p">,</span> <span class="n">LocationParseError</span>
<span class="kn">from</span> <span class="nn">.exceptions</span> <span class="kn">import</span> <span class="n">HTTPError</span><span class="p">,</span> <span class="n">MissingSchema</span><span class="p">,</span> <span class="n">InvalidURL</span><span class="p">,</span> <span class="n">ChunkedEncodingError</span><span class="p">,</span> <span class="n">ContentDecodingError</span><span class="p">,</span> <span class="n">ConnectionError</span><span class="p">,</span> <span class="n">StreamConsumedError</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">guess_filename</span><span class="p">,</span> <span class="n">get_auth_from_url</span><span class="p">,</span> <span class="n">requote_uri</span><span class="p">,</span> <span class="n">stream_decode_response_unicode</span><span class="p">,</span> <span class="n">to_key_val_list</span><span class="p">,</span> <span class="n">parse_header_links</span><span class="p">,</span> <span class="n">iter_slices</span><span class="p">,</span> <span class="n">guess_json_utf</span><span class="p">,</span> <span class="n">super_len</span><span class="p">,</span> <span class="n">to_native_string</span>
<span class="kn">from</span> <span class="nn">.compat</span> <span class="kn">import</span> <span class="n">cookielib</span><span class="p">,</span> <span class="n">urlunparse</span><span class="p">,</span> <span class="n">urlsplit</span><span class="p">,</span> <span class="n">urlencode</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="nb">bytes</span><span class="p">,</span> <span class="n">StringIO</span><span class="p">,</span> <span class="n">is_py2</span><span class="p">,</span> <span class="n">chardet</span><span class="p">,</span> <span class="n">json</span><span class="p">,</span> <span class="n">builtin_str</span><span class="p">,</span> <span class="nb">basestring</span>
<span class="kn">from</span> <span class="nn">.status_codes</span> <span class="kn">import</span> <span class="n">codes</span>
</pre></div>
</div>
<p>This automatically becomes with this plugin:</p>
<div class="code python highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">collections</span>
<span class="kn">import</span> <span class="nn">datetime</span>

<span class="kn">from</span> <span class="nn">.hooks</span> <span class="kn">import</span> <span class="n">default_hooks</span>
<span class="kn">from</span> <span class="nn">.structures</span> <span class="kn">import</span> <span class="n">CaseInsensitiveDict</span>
<span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">BytesIO</span>
<span class="kn">from</span> <span class="nn">io</span> <span class="kn">import</span> <span class="n">UnsupportedOperation</span>

<span class="kn">from</span> <span class="nn">.auth</span> <span class="kn">import</span> <span class="n">HTTPBasicAuth</span>
<span class="kn">from</span> <span class="nn">.compat</span> <span class="kn">import</span> <span class="n">StringIO</span>
<span class="kn">from</span> <span class="nn">.compat</span> <span class="kn">import</span> <span class="nb">basestring</span>
<span class="kn">from</span> <span class="nn">.compat</span> <span class="kn">import</span> <span class="n">builtin_str</span>
<span class="kn">from</span> <span class="nn">.compat</span> <span class="kn">import</span> <span class="nb">bytes</span>
<span class="kn">from</span> <span class="nn">.compat</span> <span class="kn">import</span> <span class="n">chardet</span>
<span class="kn">from</span> <span class="nn">.compat</span> <span class="kn">import</span> <span class="n">cookielib</span>
<span class="kn">from</span> <span class="nn">.compat</span> <span class="kn">import</span> <span class="n">is_py2</span>
<span class="kn">from</span> <span class="nn">.compat</span> <span class="kn">import</span> <span class="n">json</span>
<span class="kn">from</span> <span class="nn">.compat</span> <span class="kn">import</span> <span class="nb">str</span>
<span class="kn">from</span> <span class="nn">.compat</span> <span class="kn">import</span> <span class="n">urlencode</span>
<span class="kn">from</span> <span class="nn">.compat</span> <span class="kn">import</span> <span class="n">urlsplit</span>
<span class="kn">from</span> <span class="nn">.compat</span> <span class="kn">import</span> <span class="n">urlunparse</span>
<span class="kn">from</span> <span class="nn">.cookies</span> <span class="kn">import</span> <span class="n">cookiejar_from_dict</span>
<span class="kn">from</span> <span class="nn">.cookies</span> <span class="kn">import</span> <span class="n">get_cookie_header</span>
<span class="kn">from</span> <span class="nn">.exceptions</span> <span class="kn">import</span> <span class="n">ChunkedEncodingError</span>
<span class="kn">from</span> <span class="nn">.exceptions</span> <span class="kn">import</span> <span class="n">ConnectionError</span>
<span class="kn">from</span> <span class="nn">.exceptions</span> <span class="kn">import</span> <span class="n">ContentDecodingError</span>
<span class="kn">from</span> <span class="nn">.exceptions</span> <span class="kn">import</span> <span class="n">HTTPError</span>
<span class="kn">from</span> <span class="nn">.exceptions</span> <span class="kn">import</span> <span class="n">InvalidURL</span>
<span class="kn">from</span> <span class="nn">.exceptions</span> <span class="kn">import</span> <span class="n">MissingSchema</span>
<span class="kn">from</span> <span class="nn">.exceptions</span> <span class="kn">import</span> <span class="n">StreamConsumedError</span>
<span class="kn">from</span> <span class="nn">.packages.urllib3.exceptions</span> <span class="kn">import</span> <span class="n">DecodeError</span>
<span class="kn">from</span> <span class="nn">.packages.urllib3.exceptions</span> <span class="kn">import</span> <span class="n">LocationParseError</span>
<span class="kn">from</span> <span class="nn">.packages.urllib3.exceptions</span> <span class="kn">import</span> <span class="n">ProtocolError</span>
<span class="kn">from</span> <span class="nn">.packages.urllib3.exceptions</span> <span class="kn">import</span> <span class="n">ReadTimeoutError</span>
<span class="kn">from</span> <span class="nn">.packages.urllib3.fields</span> <span class="kn">import</span> <span class="n">RequestField</span>
<span class="kn">from</span> <span class="nn">.packages.urllib3.filepost</span> <span class="kn">import</span> <span class="n">encode_multipart_formdata</span>
<span class="kn">from</span> <span class="nn">.packages.urllib3.util</span> <span class="kn">import</span> <span class="n">parse_url</span>
<span class="kn">from</span> <span class="nn">.status_codes</span> <span class="kn">import</span> <span class="n">codes</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">get_auth_from_url</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">guess_filename</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">guess_json_utf</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">iter_slices</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">parse_header_links</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">requote_uri</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">stream_decode_response_unicode</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">super_len</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">to_key_val_list</span>
<span class="kn">from</span> <span class="nn">.utils</span> <span class="kn">import</span> <span class="n">to_native_string</span>
</pre></div>
</div>
<p>Indeed, the beginning of the file is much more verbose, but merges will be easier (since when
we switched to this paradigm, we almost have not conflict on these lines).</p>
</div>
<div class="section" id="usage">
<h2>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h2>
<div class="highlight-bash"><div class="highlight"><pre><span></span>$ fiximports --help
usage: fiximports <span class="o">[</span>-h<span class="o">]</span> FILENAME

Fix Python Import Statements

positional arguments:
  FILENAME    Path or glob of Python files to fix

optional arguments:
  -h, --help  show this <span class="nb">help</span> message and <span class="nb">exit</span>
</pre></div>
</div>
</div>
<div class="section" id="license">
<h2>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h2>
<p>Copyright 2015 Semet Gaetan &lt;<a class="reference external" href="mailto:gaetan&#37;&#52;&#48;xeberon&#46;net">gaetan<span>&#64;</span>xeberon<span>&#46;</span>net</a>&gt;</p>
<p>Licensed under the Apache License, Version 2.0 (the &#8220;License&#8221;);
you may not use this file except in compliance with the License.
You may obtain a copy of the License at</p>
<p><a class="reference external" href="http://www.apache.org/licenses/LICENSE-2.0">http://www.apache.org/licenses/LICENSE-2.0</a></p>
<p>Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an &#8220;AS IS&#8221; BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html#document-index">Table Of Contents</a></h3>
  <ul class="simple">
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li><a href="index.html#document-index">Python Fix Imports 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2016, Gaetan Semet.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>