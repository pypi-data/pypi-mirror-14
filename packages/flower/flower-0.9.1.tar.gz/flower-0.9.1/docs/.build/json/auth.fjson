{"body": "<div class=\"section\" id=\"id1\">\n<h1>Authentication<a class=\"headerlink\" href=\"#id1\" title=\"Permalink to this headline\">\u00b6</a></h1>\n<p>Protecting your Flower instance from unwarranted access is important\nif it runs in an untrusted environment. Below, we outline the various\nforms of authentication supported by Flower.</p>\n<div class=\"section\" id=\"http-basic-authentication\">\n<span id=\"basic-auth\"></span><h2>HTTP Basic Authentication<a class=\"headerlink\" href=\"#http-basic-authentication\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Securing Flower with Basic Authentication is easy.</p>\n<p>The <cite>&#8211;basic_auth</cite> option accepts <cite>user:password</cite> pairs separated by\na comma. If configured, any client trying to access this\nFlower instance will be prompted to provide the credentials specified in\nthis argument:</p>\n<div class=\"highlight-python3\"><div class=\"highlight\"><pre><span></span>$ celery flower --basic_auth=user1:password1,user2:password2\n</pre></div>\n</div>\n<p>See also <a class=\"reference internal\" href=\"../reverse-proxy/#reverse-proxy\"><span class=\"std std-ref\">Running behind reverse proxy</span></a></p>\n</div>\n<div class=\"section\" id=\"google-oauth-2-0\">\n<span id=\"google-oauth\"></span><h2>Google OAuth 2.0<a class=\"headerlink\" href=\"#google-oauth-2-0\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Flower supports Google OAuth 2.0. This way you can authenticate any user\nwith a Google account. Google OAuth 2.0 authentication is enabled using the\n<cite>&#8211;auth</cite>, <cite>&#8211;oauth2_key</cite>, <cite>&#8211;oauth2_secret</cite> and <cite>&#8211;oauth2_redirect_uri</cite> options.</p>\n<p><cite>&#8211;auth</cite> is a regular expression, for granting access only to the specified email pattern.\n<cite>&#8211;oauth2_key</cite> and <cite>&#8211;oauth2_secret</cite> are your credentials from your <a class=\"reference external\" href=\"https://console.developers.google.com\">Google Developer Console</a>.\n<cite>&#8211;oauth2_redirect_uri</cite> is there to specify what is the redirect_uri associated to you key and secret</p>\n<p>For instance, if you want to grant access to <cite>me&#64;gmail.com</cite> and <cite>you&#64;gmail.com</cite>:</p>\n<div class=\"highlight-python3\"><div class=\"highlight\"><pre><span></span>$ celery flower --auth=&quot;me@gmail.com|you@gmail.com&quot; --oauth2_key=... --oauth2_secret=... --oauth2_redirect_uri=http://flower.example.com/login\n</pre></div>\n</div>\n<p>Alternatively you can set environment variables instead of command line arguments:</p>\n<div class=\"highlight-python3\"><div class=\"highlight\"><pre><span></span>$ export FLOWER_OAUTH2_KEY=...\n$ export FLOWER_OAUTH2_SECRET=...\n$ export FLOWER_OAUTH2_REDIRECT_URI=http://flower.example.com/login\n$ celery flower --auth=.*@example\\.com\n</pre></div>\n</div>\n<dl class=\"docutils\">\n<dt>NOTE: Enable Google Plus API in the Google Developers Console under <cite>APIs &amp; auth</cite> -&gt; <cite>APIs</cite> -&gt; <cite>Google+ API</cite></dt>\n<dd>Otherwise you will get a <cite>403 Forbidden</cite> error despite correct OAuth configuration.</dd>\n</dl>\n</div>\n<div class=\"section\" id=\"github-oauth\">\n<span id=\"id2\"></span><h2>GitHub OAuth<a class=\"headerlink\" href=\"#github-oauth\" title=\"Permalink to this headline\">\u00b6</a></h2>\n<p>Flower also supports GitHub OAuth. Flower should be registered in\n&lt;<a class=\"reference external\" href=\"https://github.com/settings/applications/new\">https://github.com/settings/applications/new</a>&gt; before getting started.\nSee <a class=\"reference external\" href=\"https://developer.github.com/v3/oauth/\">GitHub OAuth API</a> docs for more info.</p>\n<p>GitHub OAuth should be activated using <cite>&#8211;auth_provider</cite> option.\nThe client id, secret and redirect uri should be provided using\n<cite>&#8211;oauth2_key</cite>, <cite>&#8211;oauth2_secret</cite> and <cite>&#8211;oauth2_redirect_uri</cite> options or using\n<cite>FLOWER_OAUTH2_KEY</cite>, <cite>FLOWER_OAUTH2_SECRET</cite> and <cite>FLOWER_OAUTH2_REDIRECT_URI</cite>\nenvironment variables.:</p>\n<div class=\"highlight-python3\"><div class=\"highlight\"><pre><span></span>$ export FLOWER_OAUTH2_KEY=7956724aafbf5e1a93ac\n$ export FLOWER_OAUTH2_SECRET=f9155f764b7e466c445931a6e3cc7a42c4ce47be\n$ export FLOWER_OAUTH2_REDIRECT_URI=http://localhost:5555/login\n$ celery flower --auth_provider=flower.views.auth.GithubLoginHandler --auth=.*@example\\.com\n</pre></div>\n</div>\n</div>\n</div>\n", "alabaster_version": "0.7.7", "display_toc": true, "title": "Authentication", "sourcename": "auth.txt", "customsidebar": null, "metatags": "", "current_page_name": "auth", "next": {"link": "../reverse-proxy/", "title": "Running behind reverse proxy"}, "rellinks": [["reverse-proxy", "Running behind reverse proxy", "N", "next"], ["api", "API Reference", "P", "previous"]], "meta": {}, "parents": [], "sidebars": ["sidebarlogo.html", "localtoc.html", "relations.html", "sourcelink.html", "searchbox.html"], "toc": "<ul>\n<li><a class=\"reference internal\" href=\"#\">Authentication</a><ul>\n<li><a class=\"reference internal\" href=\"#http-basic-authentication\">HTTP Basic Authentication</a></li>\n<li><a class=\"reference internal\" href=\"#google-oauth-2-0\">Google OAuth 2.0</a></li>\n<li><a class=\"reference internal\" href=\"#github-oauth\">GitHub OAuth</a></li>\n</ul>\n</li>\n</ul>\n", "prev": {"link": "../api/", "title": "API Reference"}, "page_source_suffix": ".rst"}