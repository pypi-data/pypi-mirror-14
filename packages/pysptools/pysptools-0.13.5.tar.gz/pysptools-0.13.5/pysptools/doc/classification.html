<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Classification &mdash; pysptools 0.13.4 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.13.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="pysptools 0.13.4 documentation" href="index.html" />
    <link rel="next" title="Detection" href="detection.html" />
    <link rel="prev" title="Abundance maps" href="abundance_maps.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <span class="target" id="module-pysptools.classification"></span><div class="section" id="classification">
<h1>Classification<a class="headerlink" href="#classification" title="Permalink to this headline">¶</a></h1>
<p>This module supports following supervised algorithms:</p>
<ul class="simple">
<li><a class="reference internal" href="#abundance-classification">Abundance Classification</a></li>
<li><a class="reference internal" href="#normalized-cross-correlation-normxcorr">Normalized Cross Correlation (NormXCorr)</a></li>
<li><a class="reference internal" href="#spectral-angle-mapper-sam">Spectral Angle Mapper (SAM)</a></li>
<li><a class="reference internal" href="#spectral-information-divergence-sid">Spectral Information Divergence (SID)</a></li>
<li><a class="reference internal" href="#suppot-vector-supervised-classification-svc">Suppot Vector Supervised Classification (SVC)</a></li>
</ul>
<p>For each of these classifiers, three different plotting methods are availables.
For NormXCorr, SAM and SID, the fusions of classification maps use a best score win approach.</p>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">See the file <a class="reference download internal" href="_downloads/test_cls.py"><code class="xref download docutils literal"><span class="pre">test_cls.py</span></code></a> for an example and for SVC see <a class="reference download internal" href="_downloads/test_SVC.py"><code class="xref download docutils literal"><span class="pre">test_SVC.py</span></code></a>.</p>
</div>
<p>Apart from these supervised algorithms, following unsupervised algorithm is also supported:</p>
<ul class="simple">
<li><a class="reference internal" href="#kmeans">KMeans</a></li>
</ul>
<div class="admonition seealso">
<p class="first admonition-title">See also</p>
<p class="last">See the file <a class="reference download internal" href="_downloads/test_kmeans.py"><code class="xref download docutils literal"><span class="pre">test_kmeans.py</span></code></a> for an example.</p>
</div>
<div class="section" id="abundance-classification">
<h2>Abundance Classification<a class="headerlink" href="#abundance-classification" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pysptools.classification.AbundanceClassification">
<em class="property">class </em><code class="descclassname">pysptools.classification.</code><code class="descname">AbundanceClassification</code><a class="reference internal" href="_modules/pysptools/classification/cls_int.html#AbundanceClassification"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysptools.classification.AbundanceClassification" title="Permalink to this definition">¶</a></dt>
<dd><p>Classify abundance maps.</p>
<dl class="method">
<dt id="pysptools.classification.AbundanceClassification.classify">
<code class="descname">classify</code><span class="sig-paren">(</span><em>M</em>, <em>threshold=0.1</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.AbundanceClassification.classify" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a group of abundance maps generated by UCLS, NNLS or FCLS,
to construct a classification map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>amaps</strong> &#8211; <cite>numpy array</cite>
A HSI cube (m x n x p).</li>
<li><strong>threshold</strong> &#8211; <p><cite>float [default 0.1] or list</cite>
* If float, threshold is applied on all the spectra.
* If a list, individual threshold is applied on each</p>
<blockquote>
<div>spectrum, in this case the list must have the same
number of threshold values than the number of spectra.</div></blockquote>
<ul>
<li>Threshold have values between 0.0 and 1.0.</li>
</ul>
</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns: <cite>numpy array</cite></dt>
<dd>A class map (m x n x 1).</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.AbundanceClassification.display">
<code class="descname">display</code><span class="sig-paren">(</span><em>labels=None</em>, <em>mask=None</em>, <em>interpolation='none'</em>, <em>colorMap='Accent'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.AbundanceClassification.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the class map to a IPython Notebook.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> &#8211; <cite>list of string [default None]</cite>
The legend labels. Can be used only if the input spectral library
E have more than 1 pixel.</li>
<li><strong>mask</strong> &#8211; <cite>numpy array [default None]</cite>
A binary mask, when <em>True</em> the corresponding pixel is displayed.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the title.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.AbundanceClassification.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>path</em>, <em>labels=None</em>, <em>mask=None</em>, <em>interpolation='none'</em>, <em>colorMap='Accent'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.AbundanceClassification.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the class map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>labels</strong> &#8211; <cite>list of string [default None]</cite>
The legend labels. Can be used only if the input spectral library
E have more than 1 pixel.</li>
<li><strong>mask</strong> &#8211; <cite>numpy array [default None]</cite>
A binary mask, when <em>True</em> the corresponding pixel is displayed.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="normalized-cross-correlation-normxcorr">
<h2>Normalized Cross Correlation (NormXCorr)<a class="headerlink" href="#normalized-cross-correlation-normxcorr" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pysptools.classification.NormXCorr">
<em class="property">class </em><code class="descclassname">pysptools.classification.</code><code class="descname">NormXCorr</code><a class="reference internal" href="_modules/pysptools/classification/cls_int.html#NormXCorr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysptools.classification.NormXCorr" title="Permalink to this definition">¶</a></dt>
<dd><p>Classify a HSI cube using the normalized cross correlation
algorithm and a spectral library.</p>
<dl class="method">
<dt id="pysptools.classification.NormXCorr.classify">
<code class="descname">classify</code><span class="sig-paren">(</span><em>M</em>, <em>E</em>, <em>threshold=0.1</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.NormXCorr.classify" title="Permalink to this definition">¶</a></dt>
<dd><p>Classify the HSI cube M with the spectral library E.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>M</strong> &#8211; <cite>numpy array</cite>
A HSI cube (m x n x p).</li>
<li><strong>E</strong> &#8211; <cite>numpy array</cite>
A spectral library (N x p).</li>
<li><strong>threshold</strong> &#8211; <p><cite>float [default 0.1] or list</cite>
* If float, threshold is applied on all the spectra.
* If a list, individual threshold is applied on each</p>
<blockquote>
<div>spectrum, in this case the list must have the same
number of threshold values than the number of spectra.</div></blockquote>
<ul>
<li>Threshold have values between 0.0 and 1.0.</li>
</ul>
</li>
<li><strong>mask</strong> &#8211; <cite>numpy array [default None]</cite>
A binary mask, when <em>True</em> the selected pixel is classified.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns: <cite>numpy array</cite></dt>
<dd>A class map (m x n x 1).</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.NormXCorr.display">
<code class="descname">display</code><span class="sig-paren">(</span><em>labels=None</em>, <em>mask=None</em>, <em>interpolation='none'</em>, <em>colorMap='Accent'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.NormXCorr.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the class map to a IPython Notebook.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> &#8211; <cite>list of string [default None]</cite>
The legend labels. Can be used only if the input spectral library
E have more than 1 pixel.</li>
<li><strong>mask</strong> &#8211; <cite>numpy array [default None]</cite>
A binary mask, when <em>True</em> the corresponding pixel is displayed.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the title.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.NormXCorr.display_single_map">
<code class="descname">display_single_map</code><span class="sig-paren">(</span><em>lib_idx</em>, <em>constrained=True</em>, <em>stretch=False</em>, <em>colorMap='spectral'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.NormXCorr.display_single_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Display individual classified map to a IPython Notebook. One for each spectrum.
Note that each individual map is constrained by the others.
This function is usefull to see the individual map that compose
the final class map returned by the classify method. It help
to define the spectra library. See the constrained parameter below.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lib_idx</strong> &#8211; <cite>int or string</cite>
* A number between 1 and the number of spectra in the library.
* &#8216;all&#8217;, plot all the individual maps.</li>
<li><strong>constrained</strong> &#8211; <p><cite>boolean [default True]</cite>
* If constrained is True, print the individual maps as they compose the</p>
<blockquote>
<div>final class map. Any potential intersection is removed in favor of
the lower value level for SAM and SID, or the nearest to 1 for NormXCorr. Use
this one to understand the final class map.</div></blockquote>
<ul>
<li>If constrained is False, print the individual maps without intersection
removed, as they are generated. Use this one to have the real match.</li>
</ul>
</li>
<li><strong>stretch</strong> &#8211; <cite>boolean [default False]</cite>
Stretch the map between 0 and 1 giving a good distribution of the
color map.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;spectral&#8217;]</cite>
A matplotlib color map.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the title.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.NormXCorr.get_NormXCorr_map">
<code class="descname">get_NormXCorr_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.NormXCorr.get_NormXCorr_map" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Returns: <cite>numpy array</cite></dt>
<dd>The NormXCorr array (m x n x spectra number).</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.NormXCorr.get_single_map">
<code class="descname">get_single_map</code><span class="sig-paren">(</span><em>lib_idx</em>, <em>constrained=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.NormXCorr.get_single_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Get individual classified map. See plot_single_map for
a description.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lib_idx</strong> &#8211; <cite>int or string</cite>
A number between 1 and the number of spectra in the library.</li>
<li><strong>constrained</strong> &#8211; <cite>boolean [default True]</cite>
See plot_single_map for a description.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns: <cite>numpy array</cite></dt>
<dd>The individual map (m x n x 1) associated to the lib_idx endmember.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.NormXCorr.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>path</em>, <em>labels=None</em>, <em>mask=None</em>, <em>interpolation='none'</em>, <em>colorMap='Accent'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.NormXCorr.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the class map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>labels</strong> &#8211; <cite>list of string [default None]</cite>
The legend labels. Can be used only if the input spectral library
E have more than 1 pixel.</li>
<li><strong>mask</strong> &#8211; <cite>numpy array [default None]</cite>
A binary mask, when <em>True</em> the corresponding pixel is displayed.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.NormXCorr.plot_histo">
<code class="descname">plot_histo</code><span class="sig-paren">(</span><em>path</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.NormXCorr.plot_histo" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the histogram.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.NormXCorr.plot_single_map">
<code class="descname">plot_single_map</code><span class="sig-paren">(</span><em>path</em>, <em>lib_idx</em>, <em>constrained=True</em>, <em>stretch=False</em>, <em>colorMap='spectral'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.NormXCorr.plot_single_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot individual classified map. One for each spectrum.
Note that each individual map is constrained by the others.
This function is usefull to see the individual map that compose
the final class map returned by the classify method. It help
to define the spectra library. See the constrained parameter below.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>lib_idx</strong> &#8211; <cite>int or string</cite>
* A number between 1 and the number of spectra in the library.
* &#8216;all&#8217;, plot all the individual maps.</li>
<li><strong>constrained</strong> &#8211; <p><cite>boolean [default True]</cite>
* If constrained is True, print the individual maps as they compose the</p>
<blockquote>
<div>final class map. Any potential intersection is removed in favor of
the lower value level for SAM and SID, or the nearest to 1 for NormXCorr. Use
this one to understand the final class map.</div></blockquote>
<ul>
<li>If constrained is False, print the individual maps without intersection
removed, as they are generated. Use this one to have the real match.</li>
</ul>
</li>
<li><strong>stretch</strong> &#8211; <cite>boolean [default False]</cite>
Stretch the map between 0 and 1 giving a good distribution of the
color map.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;spectral&#8217;]</cite>
A matplotlib color map.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="spectral-angle-mapper-sam">
<h2>Spectral Angle Mapper (SAM)<a class="headerlink" href="#spectral-angle-mapper-sam" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pysptools.classification.SAM">
<em class="property">class </em><code class="descclassname">pysptools.classification.</code><code class="descname">SAM</code><a class="reference internal" href="_modules/pysptools/classification/cls_int.html#SAM"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysptools.classification.SAM" title="Permalink to this definition">¶</a></dt>
<dd><p>Classify a HSI cube using the spectral angle mapper algorithm
and a spectral library.</p>
<dl class="method">
<dt id="pysptools.classification.SAM.classify">
<code class="descname">classify</code><span class="sig-paren">(</span><em>M</em>, <em>E</em>, <em>threshold=0.1</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SAM.classify" title="Permalink to this definition">¶</a></dt>
<dd><p>Classify the HSI cube M with the spectral library E.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>M</strong> &#8211; <cite>numpy array</cite>
A HSI cube (m x n x p).</li>
<li><strong>E</strong> &#8211; <cite>numpy array</cite>
A spectral library (N x p).</li>
<li><strong>threshold</strong> &#8211; <p><cite>float [default 0.1] or list</cite>
* If float, threshold is applied on all the spectra.
* If a list, individual threshold is applied on each</p>
<blockquote>
<div>spectrum, in this case the list must have the same
number of threshold values than the number of spectra.</div></blockquote>
<ul>
<li>Threshold have values between 0.0 and 1.0.</li>
</ul>
</li>
<li><strong>mask</strong> &#8211; <cite>numpy array [default None]</cite>
A binary mask, when <em>True</em> the selected pixel is classified.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns: <cite>numpy array</cite></dt>
<dd>A class map (m x n x 1).</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SAM.display">
<code class="descname">display</code><span class="sig-paren">(</span><em>labels=None</em>, <em>mask=None</em>, <em>interpolation='none'</em>, <em>colorMap='Accent'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SAM.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the class map to a IPython Notebook.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> &#8211; <cite>list of string [default None]</cite>
The legend labels. Can be used only if the input spectral library
E have more than 1 pixel.</li>
<li><strong>mask</strong> &#8211; <cite>numpy array [default None]</cite>
A binary mask, when <em>True</em> the corresponding pixel is displayed.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the title.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SAM.display_single_map">
<code class="descname">display_single_map</code><span class="sig-paren">(</span><em>lib_idx</em>, <em>constrained=True</em>, <em>stretch=False</em>, <em>colorMap='spectral'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SAM.display_single_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Display individual classified map to a IPython Notebook. One for each spectrum.
Note that each individual map is constrained by the others.
This function is usefull to see the individual map that compose
the final class map returned by the classify method. It help
to define the spectra library. See the constrained parameter below.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lib_idx</strong> &#8211; <cite>int or string</cite>
* A number between 1 and the number of spectra in the library.
* &#8216;all&#8217;, plot all the individual maps.</li>
<li><strong>constrained</strong> &#8211; <p><cite>boolean [default True]</cite>
* If constrained is True, print the individual maps as they compose the</p>
<blockquote>
<div>final class map. Any potential intersection is removed in favor of
the lower value level for SAM and SID, or the nearest to 1 for NormXCorr. Use
this one to understand the final class map.</div></blockquote>
<ul>
<li>If constrained is False, print the individual maps without intersection
removed, as they are generated. Use this one to have the real match.</li>
</ul>
</li>
<li><strong>stretch</strong> &#8211; <cite>boolean [default False]</cite>
Stretch the map between 0 and 1 giving a good distribution of the
color map.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;spectral&#8217;]</cite>
A matplotlib color map.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the title.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SAM.get_angles_map">
<code class="descname">get_angles_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SAM.get_angles_map" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Returns: <cite>numpy array</cite></dt>
<dd>The angles array (m x n x spectra number).</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SAM.get_angles_stats">
<code class="descname">get_angles_stats</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SAM.get_angles_stats" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Returns: <cite>dic</cite></dt>
<dd>Angles stats.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SAM.get_single_map">
<code class="descname">get_single_map</code><span class="sig-paren">(</span><em>lib_idx</em>, <em>constrained=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SAM.get_single_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Get individual classified map. See plot_single_map for
a description.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lib_idx</strong> &#8211; <cite>int or string</cite>
A number between 1 and the number of spectra in the library.</li>
<li><strong>constrained</strong> &#8211; <cite>boolean [default True]</cite>
See plot_single_map for a description.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns: <cite>numpy array</cite></dt>
<dd>The individual map (m x n x 1) associated to the lib_idx endmember.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SAM.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>path</em>, <em>labels=None</em>, <em>mask=None</em>, <em>interpolation='none'</em>, <em>colorMap='Accent'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SAM.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the class map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>labels</strong> &#8211; <cite>list of string [default None]</cite>
The legend labels. Can be used only if the input spectral library
E have more than 1 pixel.</li>
<li><strong>mask</strong> &#8211; <cite>numpy array [default None]</cite>
A binary mask, when <em>True</em> the corresponding pixel is displayed.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SAM.plot_histo">
<code class="descname">plot_histo</code><span class="sig-paren">(</span><em>path</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SAM.plot_histo" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the histogram.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SAM.plot_single_map">
<code class="descname">plot_single_map</code><span class="sig-paren">(</span><em>path</em>, <em>lib_idx</em>, <em>constrained=True</em>, <em>stretch=False</em>, <em>colorMap='spectral'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SAM.plot_single_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot individual classified map. One for each spectrum.
Note that each individual map is constrained by the others.
This function is usefull to see the individual map that compose
the final class map returned by the classify method. It help
to define the spectra library. See the constrained parameter below.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>lib_idx</strong> &#8211; <cite>int or string</cite>
* A number between 1 and the number of spectra in the library.
* &#8216;all&#8217;, plot all the individual maps.</li>
<li><strong>constrained</strong> &#8211; <p><cite>boolean [default True]</cite>
* If constrained is True, print the individual maps as they compose the</p>
<blockquote>
<div>final class map. Any potential intersection is removed in favor of
the lower value level for SAM and SID, or the nearest to 1 for NormXCorr. Use
this one to understand the final class map.</div></blockquote>
<ul>
<li>If constrained is False, print the individual maps without intersection
removed, as they are generated. Use this one to have the real match.</li>
</ul>
</li>
<li><strong>stretch</strong> &#8211; <cite>boolean [default False]</cite>
Stretch the map between 0 and 1 giving a good distribution of the
color map.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;spectral&#8217;]</cite>
A matplotlib color map.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="spectral-information-divergence-sid">
<h2>Spectral Information Divergence (SID)<a class="headerlink" href="#spectral-information-divergence-sid" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="pysptools.classification.SID">
<em class="property">class </em><code class="descclassname">pysptools.classification.</code><code class="descname">SID</code><a class="reference internal" href="_modules/pysptools/classification/cls_int.html#SID"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysptools.classification.SID" title="Permalink to this definition">¶</a></dt>
<dd><p>Classify a HSI cube using the spectral information divergence
algorithm and a spectral library.</p>
<dl class="method">
<dt id="pysptools.classification.SID.classify">
<code class="descname">classify</code><span class="sig-paren">(</span><em>M</em>, <em>E</em>, <em>threshold=0.1</em>, <em>mask=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SID.classify" title="Permalink to this definition">¶</a></dt>
<dd><p>Classify the HSI cube M with the spectral library E.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>M</strong> &#8211; <cite>numpy array</cite>
A HSI cube (m x n x p).</li>
<li><strong>E</strong> &#8211; <cite>numpy array</cite>
A spectral library (N x p).</li>
<li><strong>threshold</strong> &#8211; <p><cite>float [default 0.1] or list</cite>
* If float, threshold is applied on all the spectra.
* If a list, individual threshold is applied on each</p>
<blockquote>
<div>spectrum, in this case the list must have the same
number of threshold values than the number of spectra.</div></blockquote>
<ul>
<li>Threshold have values between 0.0 and 1.0.</li>
</ul>
</li>
<li><strong>mask</strong> &#8211; <cite>numpy array [default None]</cite>
A binary mask, when <em>True</em> the selected pixel is classified.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns: <cite>numpy array</cite></dt>
<dd>A class map (m x n x 1).</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SID.display">
<code class="descname">display</code><span class="sig-paren">(</span><em>labels=None</em>, <em>mask=None</em>, <em>interpolation='none'</em>, <em>colorMap='Accent'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SID.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the class map to a IPython Notebook.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> &#8211; <cite>list of string [default None]</cite>
The legend labels. Can be used only if the input spectral library
E have more than 1 pixel.</li>
<li><strong>mask</strong> &#8211; <cite>numpy array [default None]</cite>
A binary mask, when <em>True</em> the corresponding pixel is displayed.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the title.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SID.display_single_map">
<code class="descname">display_single_map</code><span class="sig-paren">(</span><em>lib_idx</em>, <em>constrained=True</em>, <em>stretch=False</em>, <em>colorMap='spectral'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SID.display_single_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Display individual classified map to a IPython Notebook. One for each spectrum.
Note that each individual map is constrained by the others.
This function is usefull to see the individual map that compose
the final class map returned by the classify method. It help
to define the spectra library. See the constrained parameter below.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lib_idx</strong> &#8211; <cite>int or string</cite>
* A number between 1 and the number of spectra in the library.
* &#8216;all&#8217;, plot all the individual maps.</li>
<li><strong>constrained</strong> &#8211; <p><cite>boolean [default True]</cite>
* If constrained is True, print the individual maps as they compose the</p>
<blockquote>
<div>final class map. Any potential intersection is removed in favor of
the lower value level for SAM and SID, or the nearest to 1 for NormXCorr. Use
this one to understand the final class map.</div></blockquote>
<ul>
<li>If constrained is False, print the individual maps without intersection
removed, as they are generated. Use this one to have the real match.</li>
</ul>
</li>
<li><strong>stretch</strong> &#8211; <cite>boolean [default False]</cite>
Stretch the map between 0 and 1 giving a good distribution of the
color map.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;spectral&#8217;]</cite>
A matplotlib color map.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the title.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SID.get_SID_map">
<code class="descname">get_SID_map</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SID.get_SID_map" title="Permalink to this definition">¶</a></dt>
<dd><dl class="docutils">
<dt>Returns: <cite>numpy array</cite></dt>
<dd>The SID array (m x n x spectra number).</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SID.get_single_map">
<code class="descname">get_single_map</code><span class="sig-paren">(</span><em>lib_idx</em>, <em>constrained=True</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SID.get_single_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Get individual classified map. See plot_single_map for
a description.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lib_idx</strong> &#8211; <cite>int or string</cite>
A number between 1 and the number of spectra in the library.</li>
<li><strong>constrained</strong> &#8211; <cite>boolean [default True]</cite>
See plot_single_map for a description.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns: <cite>numpy array</cite></dt>
<dd>The individual map (m x n x 1) associated to the lib_idx endmember.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SID.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>path</em>, <em>labels=None</em>, <em>mask=None</em>, <em>interpolation='none'</em>, <em>colorMap='Accent'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SID.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the class map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>labels</strong> &#8211; <cite>list of string [default None]</cite>
The legend labels. Can be used only if the input spectral library
E have more than 1 pixel.</li>
<li><strong>mask</strong> &#8211; <cite>numpy array [default None]</cite>
A binary mask, when <em>True</em> the corresponding pixel is displayed.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SID.plot_histo">
<code class="descname">plot_histo</code><span class="sig-paren">(</span><em>path</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SID.plot_histo" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the histogram.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SID.plot_single_map">
<code class="descname">plot_single_map</code><span class="sig-paren">(</span><em>path</em>, <em>lib_idx</em>, <em>constrained=True</em>, <em>stretch=False</em>, <em>colorMap='spectral'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SID.plot_single_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot individual classified map. One for each spectrum.
Note that each individual map is constrained by the others.
This function is usefull to see the individual map that compose
the final class map returned by the classify method. It help
to define the spectra library. See the constrained parameter below.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>lib_idx</strong> &#8211; <cite>int or string</cite>
* A number between 1 and the number of spectra in the library.
* &#8216;all&#8217;, plot all the individual maps.</li>
<li><strong>constrained</strong> &#8211; <p><cite>boolean [default True]</cite>
* If constrained is True, print the individual maps as they compose the</p>
<blockquote>
<div>final class map. Any potential intersection is removed in favor of
the lower value level for SAM and SID, or the nearest to 1 for NormXCorr. Use
this one to understand the final class map.</div></blockquote>
<ul>
<li>If constrained is False, print the individual maps without intersection
removed, as they are generated. Use this one to have the real match.</li>
</ul>
</li>
<li><strong>stretch</strong> &#8211; <cite>boolean [default False]</cite>
Stretch the map between 0 and 1 giving a good distribution of the
color map.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;spectral&#8217;]</cite>
A matplotlib color map.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="suppot-vector-supervised-classification-svc">
<h2>Suppot Vector Supervised Classification (SVC)<a class="headerlink" href="#suppot-vector-supervised-classification-svc" title="Permalink to this headline">¶</a></h2>
<p>see <code class="xref download docutils literal"><span class="pre">test_SVC.py</span></code> for an example</p>
<dl class="class">
<dt id="pysptools.classification.SVC">
<em class="property">class </em><code class="descclassname">pysptools.classification.</code><code class="descname">SVC</code><a class="reference internal" href="_modules/pysptools/classification/svc.html#SVC"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysptools.classification.SVC" title="Permalink to this definition">¶</a></dt>
<dd><p>Suppot Vector Supervised Classification (SVC) of a HSI cube with the
use of regions of interest (ROIs).</p>
<p>This class is largely a wrapper to the scikit-learn SVC class. The goal is
to ease the use of the scikit-learn SVM implementation when applied
to hyperspectral cubes.</p>
<p>The ROIs classifiers can be rectangles or polygons. They must be VALID, no check is made
upon the validity of these geometric figures.</p>
<dl class="method">
<dt id="pysptools.classification.SVC.classify">
<code class="descname">classify</code><span class="sig-paren">(</span><em>M</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SVC.classify" title="Permalink to this definition">¶</a></dt>
<dd><p>Classify a hyperspectral cube using the ROIs defined clusters by the fit method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>M</strong> &#8211; <cite>numpy array</cite>
A HSI cube (m x n x p).</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns: <cite>numpy array</cite></dt>
<dd>A class map (m x n x 1).</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SVC.display">
<code class="descname">display</code><span class="sig-paren">(</span><em>labels=None</em>, <em>interpolation='none'</em>, <em>colorMap='Accent'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SVC.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the class map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>labels</strong> &#8211; <cite>string list</cite>
A labels list.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SVC.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>M</em>, <em>ROIs</em>, <em>class_weight=None</em>, <em>cache_size=200</em>, <em>coef0=0.0</em>, <em>degree=3</em>, <em>gamma='auto'</em>, <em>kernel='rbf'</em>, <em>max_iter=-1</em>, <em>probability=False</em>, <em>random_state=None</em>, <em>shrinking=True</em>, <em>tol=0.001</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysptools/classification/svc.html#SVC.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysptools.classification.SVC.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit the HS cube M with the use of ROIs. The parameters following &#8216;M&#8217; and &#8216;ROIs&#8217; are the
one defined by the scikit-learn sklearn.svm.SVC class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>M</strong> &#8211; <cite>numpy array</cite>
A HSI cube (m x n x p).</li>
<li><strong>ROIs</strong> &#8211; <cite>ROIs type</cite>
Regions of interest instance.</li>
<li><strong>parameters</strong> (<em>Others</em>) &#8211; <cite>see the sklearn.svm.SVC class parameters</cite>
Note: the C parameter is set to 1, the result of this setting is that
the class_weight is relative to C and that the first value of
class_weight is the background.
An example: you wish to fit two classes &#8220;1&#8221; and &#8220;2&#8221; with the help
of one ROI for each, you declare class_weight like this:
class_weight={0:1,1:10,2:10}
0: is always the background and is set to 1, 1: is the first class,
2: is the second. A value of 10 for both classes give good results.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns: <cite>class</cite></dt>
<dd>The sklearn.svm.SVC class is returned.</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.SVC.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>path</em>, <em>labels=None</em>, <em>interpolation='none'</em>, <em>colorMap='Accent'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.SVC.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the class map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>labels</strong> &#8211; <cite>string list</cite>
A labels list.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="kmeans">
<h2>KMeans<a class="headerlink" href="#kmeans" title="Permalink to this headline">¶</a></h2>
<p>See the file <code class="xref download docutils literal"><span class="pre">test_kmeans.py</span></code> for an example.</p>
<dl class="class">
<dt id="pysptools.classification.KMeans">
<em class="property">class </em><code class="descclassname">pysptools.classification.</code><code class="descname">KMeans</code><a class="reference internal" href="_modules/pysptools/classification/km.html#KMeans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysptools.classification.KMeans" title="Permalink to this definition">¶</a></dt>
<dd><p>KMeans clustering algorithm adapted to hyperspectral imaging</p>
<dl class="method">
<dt id="pysptools.classification.KMeans.display">
<code class="descname">display</code><span class="sig-paren">(</span><em>interpolation='none'</em>, <em>colorMap='Accent'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.KMeans.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Display the cluster map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the title.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.KMeans.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>path</em>, <em>interpolation='none'</em>, <em>colorMap='Accent'</em>, <em>suffix=None</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.KMeans.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot the cluster map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.KMeans.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>M</em>, <em>n_clusters=5</em>, <em>n_jobs=1</em>, <em>init='k-means++'</em><span class="sig-paren">)</span><a class="headerlink" href="#pysptools.classification.KMeans.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>KMeans clustering algorithm adapted to hyperspectral imaging.
It is a simple wrapper to the scikit-learn version.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>M</strong> &#8211; <cite>numpy array</cite>
A HSI cube (m x n x p).</li>
<li><strong>n_clusters</strong> &#8211; <cite>int [default 5]</cite>
The number of clusters to generate.</li>
<li><strong>n_jobs</strong> &#8211; <cite>int [default 1]</cite>
Taken from scikit-learn doc:
The number of jobs to use for the computation. This works by breaking down the pairwise matrix into n_jobs even slices and computing them in parallel.
If -1 all CPUs are used. If 1 is given, no parallel computing code is used at all, which is useful for debugging. For n_jobs below -1, (n_cpus + 1 + n_jobs) are used. Thus for n_jobs = -2, all CPUs but one are used.</li>
<li><strong>init</strong> &#8211; <cite>string or array [default &#8216;k-means++&#8217;]</cite>
Taken from scikit-learn doc: Method for initialization, defaults to <cite>k-means++</cite>:
<cite>k-means++</cite> : selects initial cluster centers for k-mean clustering in a smart way to speed up convergence. See section Notes in k_init for more details.
<cite>random</cite>: choose k observations (rows) at random from data for the initial centroids.
If an ndarray is passed, it should be of shape (n_clusters, n_features) and gives the initial centers.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns: <cite>numpy array</cite></dt>
<dd>A cluster map (m x n x c), c is the clusters number .</dd>
</dl>
</dd></dl>

</dd></dl>

<div class="section" id="output">
<h3>Output<a class="headerlink" href="#output" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="pysptools.classification.Output">
<em class="property">class </em><code class="descclassname">pysptools.classification.</code><code class="descname">Output</code><span class="sig-paren">(</span><em>label</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysptools/classification/out.html#Output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysptools.classification.Output" title="Permalink to this definition">¶</a></dt>
<dd><p>Add plot and display capacity to the classifiers classes.</p>
<dl class="method">
<dt id="pysptools.classification.Output.display">
<code class="descname">display</code><span class="sig-paren">(</span><em>img</em>, <em>n_classes</em>, <em>labels=None</em>, <em>mask=None</em>, <em>interpolation='none'</em>, <em>colorMap='jet'</em>, <em>firstBlack=False</em>, <em>suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysptools/classification/out.html#Output.display"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysptools.classification.Output.display" title="Permalink to this definition">¶</a></dt>
<dd><p>Display a classification map using matplotlib.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>img</strong> &#8211; <cite>numpy array</cite>
A classified map, (m x n x 1),
the classes start at 0.</li>
<li><strong>n_classes</strong> &#8211; <cite>int</cite>
The number of classes found in img.</li>
<li><strong>labels</strong> &#8211; <cite>list of string [default None]</cite>
The legend labels.</li>
<li><strong>mask</strong> &#8211; <cite>numpy array [default None]</cite>
A binary mask, when <em>True</em> the corresponding pixel is displayed.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>firstBlack</strong> &#8211; <cite>bool [default False]</cite>
Display the first legend element in black if <em>True</em>. If it is the case,
the corresponding classification class value is zero and it can be use when the
meaning is nothing to classify (example: a background).</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pysptools.classification.Output.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>img</em>, <em>n_classes</em>, <em>path=None</em>, <em>labels=None</em>, <em>mask=None</em>, <em>interpolation='none'</em>, <em>colorMap='jet'</em>, <em>firstBlack=False</em>, <em>suffix=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pysptools/classification/out.html#Output.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pysptools.classification.Output.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot a classification map using matplotlib.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>img</strong> &#8211; <cite>numpy array</cite>
A classified map, (m x n x 1),
the classes start at 0.</li>
<li><strong>n_classes</strong> &#8211; <cite>int</cite>
The number of classes found in img.</li>
<li><strong>path</strong> &#8211; <cite>string</cite>
The path where to put the plot.</li>
<li><strong>labels</strong> &#8211; <cite>list of string [default None]</cite>
The legend labels.</li>
<li><strong>mask</strong> &#8211; <cite>numpy array [default None]</cite>
A binary mask, when <em>True</em> the corresponding pixel is displayed.</li>
<li><strong>interpolation</strong> &#8211; <cite>string [default none]</cite>
A matplotlib interpolation method.</li>
<li><strong>colorMap</strong> &#8211; <cite>string [default &#8216;Accent&#8217;]</cite>
A color map element of
[&#8216;Accent&#8217;, &#8216;Dark2&#8217;, &#8216;Paired&#8217;, &#8216;Pastel1&#8217;, &#8216;Pastel2&#8217;, &#8216;Set1&#8217;, &#8216;Set2&#8217;, &#8216;Set3&#8217;],
&#8220;Accent&#8221; is the default and it fall back on &#8220;Jet&#8221;.</li>
<li><strong>firstBlack</strong> &#8211; <cite>bool [default False]</cite>
Display the first legend element in black if <em>True</em>. If it is the case,
the corresponding classification class value is zero and it can be use when the
meaning is nothing to classify (example: a background).</li>
<li><strong>suffix</strong> &#8211; <cite>string [default None]</cite>
Add a suffix to the file name.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><p class="logo"><a href="index.html">
  <!-- <img class="logo" src="_static/flask.png" alt="Logo"/> -->
  <h1 class="logo">PySptools</h1>
</a>
</p>
<h3><a href="index.html">Table Of Contents</a></h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installing PySptools</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples_front.html">Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="abundance_maps.html">Abundance maps</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">Classification</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#abundance-classification">Abundance Classification</a></li>
<li class="toctree-l2"><a class="reference internal" href="#normalized-cross-correlation-normxcorr">Normalized Cross Correlation (NormXCorr)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#spectral-angle-mapper-sam">Spectral Angle Mapper (SAM)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#spectral-information-divergence-sid">Spectral Information Divergence (SID)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#suppot-vector-supervised-classification-svc">Suppot Vector Supervised Classification (SVC)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kmeans">KMeans</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="detection.html">Detection</a></li>
<li class="toctree-l1"><a class="reference internal" href="distance.html">Distance functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="eea.html">Endmembers Extraction Algorithms (EEA)</a></li>
<li class="toctree-l1"><a class="reference internal" href="material_count.html">Material Count</a></li>
<li class="toctree-l1"><a class="reference internal" href="noise.html">Denoising</a></li>
<li class="toctree-l1"><a class="reference internal" href="sigproc.html">Signal processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="spectro.html">Spectro Function and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="util.html">Utility Functions and Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="release_notes.html">Release notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="links.html">Links</a></li>
</ul>

<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/classification.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Christian Therien.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.6</a>
      
      |
      <a href="_sources/classification.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>