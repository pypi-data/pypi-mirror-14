'use strict';function autotest(){function P(a,b,c){"undefined"==typeof b&&(b=a,a=0);"undefined"==typeof c&&(c=1);if(0<c&&a>=b||0>c&&a<=b)return[];for(var d=[];0<c?a<b:a>b;a+=c)d.push(a);return d}function N(a){return T(P(C(a)),a)}function U(a){if(null==a||"object"==typeof a)return a;var b={},c;for(c in obj)a.hasOwnProperty(c)&&(b[c]=a[c]);return b}function W(a){if(null==a||"object"==typeof a)return a;var b={},c;for(c in obj)a.hasOwnProperty(c)&&(b[c]=W(a[c]));return b}function f(a){return a?[].slice.apply(a):
[]}function h(a){a=a?[].slice.apply(a):[];a.__class__=h;return a}function A(a){var b=[];if(a)for(var c=0;c<a.length;c++)b.add(a[c]);b.__class__=A;return b}function X(){var a=[],b;for(b in this)K(b)||a.push(b);return a}function Y(){var a=[],b;for(b in this)K(b)||a.push([b,this[b]]);return a}function Z(a){delete this[a]}function F(a){if(!a||a instanceof Array){var b={};if(a)for(var c=0;c<a.length;c++){var d=a[c];b[d[0]]=d[1]}}else b=a;Object.defineProperty(b,"__class__",{value:F,enumerable:!1,writable:!0});
Object.defineProperty(b,"py_keys",{value:X,enumerable:!1});Object.defineProperty(b,"py_items",{value:Y,enumerable:!1});Object.defineProperty(b,"py_del",{value:Z,enumerable:!1});return b}function E(a){try{return a.__str__()}catch(b){return new String(a)}}var e={},w=function(a,b,c){if(""!=b){b=b.split(".");for(var d=b.length,p=0;p<b.length;p++){if(!a.hasOwnProperty(b[p])){d=p;break}a=a[b[p]]}for(p=d;p<b.length;p++)a[b[p]]={},a=a[b[p]]}for(var f in c)a[f]=c[f]};e.__nest__=w;var D=function(a){a.__inited__||
a.__all__.__init__(a.__all__);return a.__all__};e.__init__=D;var n=function(a,b,c){return a&&(a.hasOwnProperty("__class__")||"string"==typeof a||a instanceof String)?(c&&Object.defineProperty(a,c,{value:function(){var c=[].slice.apply(arguments);return b.apply(null,[a].concat(c))},writable:!0,enumerable:!0,configurable:!0}),function(){var c=[].slice.apply(arguments);return b.apply(null,[a].concat(c))}):b};e.__get__=n;var G=function(a,b,c){for(var d=function(){var a=[].slice.apply(arguments);return d.__new__(a)},
p=b.length-1;0<=p;p--){var f=b[p],k;for(k in f){var l=Object.getOwnPropertyDescriptor(f,k);Object.defineProperty(d,k,l)}}d.__name__=a;d.__bases__=b;for(k in c)l=Object.getOwnPropertyDescriptor(c,k),Object.defineProperty(d,k,l);return d};e.__class__=G;var J=e.__class__("object",[],{__init__:function(a){},__name__:"object",__bases__:[],__new__:function(a){var b=Object.create(this,{__class__:{value:this,enumerable:!0}});this.__init__.apply(null,[b].concat(a));return b}});e.object=J;e.__pragma__=function(){};
w(e,"org.transcrypt.__base__",{__all__:{__inited__:!1,__init__:function(a){var b=G("__Envir__",[J],{get __init__(){return n(this,function(a){a.transpiler_name="transcrypt";a.transpiler_version="3.5.138";a.target_subdir="__javascript__"})}}),c=b();a.__Envir__=b;a.__envir__=c}}});w(e,"org.transcrypt.__standard__",{__all__:{__inited__:!1,__init__:function(a){var b=G("Exception",[J],{get __init__(){return n(this,function(a){var b=h([].slice.apply(arguments).slice(1));a.args=b})},get __repr__(){return n(this,
function(a){return C(a.args)?"{}{}".format(a.__class__.__name__,H(h(a.args))):"???"})},get __str__(){return n(this,function(a){return 1<C(a.args)?E(h(a.args)):C(a.args)?E(a.args[0]):"???"})}}),c=G("ValueError",[b],{}),d=function(a,b,c){if("undefined"==typeof b||null!=b&&b.__class__==r)b=null;if("undefined"==typeof c||null!=c&&c.__class__==r)c=!1;if(arguments.length){var d=arguments.length-1;if(arguments[d]&&arguments[d].__class__==r){var d=arguments[d--],f;for(f in d)switch(f){case "iterable":a=d[f];
break;case "key":b=d[f];break;case "reverse":c=d[f]}}}b?a.sort(function(a,c){if(arguments.length){var B=arguments.length-1;if(arguments[B]&&arguments[B].__class__==r){var B=arguments[B--],I;for(I in B)switch(I){case "a":a=B[I];break;case "b":c=B[I]}}}return b(a)>b(c)}):a.sort();c&&a.reverse()};a.Exception=b;a.ValueError=c;a.__sort__=d;a.sorted=function(a,b,c){if("undefined"==typeof b||null!=b&&b.__class__==r)b=null;if("undefined"==typeof c||null!=c&&c.__class__==r)c=!1;if(arguments.length){var f=
arguments.length-1;if(arguments[f]&&arguments[f].__class__==r){var f=arguments[f--],g;for(g in f)switch(g){case "iterable":a=f[g];break;case "key":b=f[g];break;case "reverse":c=f[g]}}}g=x(a)==F?U(a.py_keys()):U(a);d(g,b,c);return g}}}});w(e,"",D(e.org.transcrypt.__base__));var y=e.__envir__;w(e,"",D(e.org.transcrypt.__standard__));var ha=e.__sort__,aa=e.sorted;y.executor_name=y.transpiler_name;var ba={__file__:""};e.main=ba;e.__except__=null;var r=function(a){a.__class__=r;a.constructor=Object;return a};
e.___kwargdict__=r;e.property=function(a,b){b||(b=function(){});return{get:function(){return a(this)},set:function(a){b(this,a)},enumerable:!0}};e.__merge__=function(a,b){var c={},d;for(d in a)c[d]=a[d];for(d in b)c[d]=b[d];return c};var ca=function(){for(var a=[].slice.apply(arguments),b="",c=0;c<a.length;c++)b+=E(a[c])+" ";console.log(b)};e.print=ca;console.log.apply=function(){ca([].slice.apply(arguments).slice(1))};e.__in__=function(a,b){return x(b)==F?-1<b.py_keys().indexOf(a):-1<b.indexOf(a)};
var K=function(a){return a.startswith("__")&&a.endswith("__")||"constructor"==a||a.startswith("py_")};e.__specialattrib__=K;var C=function(a){try{return a.length}catch(c){var b=0;for(attrib in a)K(attrib)||b++;return b}};e.len=C;var da={__name__:"bool"};e.bool=da;var L=function(a){if(isNaN(a))throw"ValueError";return+a};L.__name__="float";e.float=L;var M=function(a){return L(a)|0};M.__name__="int";e.int=M;var x=function(a){try{return a.__class__}catch(c){var b=typeof a;return"boolean"==b?da:"number"==
b?0==a%1?M:L:b}};e.type=x;e.isinstance=function(a,b){function c(a){if(a==b)return!0;for(var f=0;f<a.__bases__.length;f++)if(c(a.__bases__[f],b))return!0;return!1}return c(a.__class__)};var H=function(a){try{return a.__repr__()}catch(f){try{return a.__str__()}catch(k){try{if(a.constructor==Object){var b="{",c=!1,d;for(d in a)if(!K(d)){var p=d.isnumeric()?d:"'"+d+"'";c?b+=", ":c=!0;try{b+=p+": "+a[d].__repr__()}catch(h){b+=p+": "+a[d].toString()}}return b+"}"}return"boolean"==typeof a?a.toString().capitalize():
a.toString()}catch(h){return console.log("ERROR: Could not evaluate repr (<object of type "+typeof a+">)"),"???"}}}};e.repr=H;e.chr=function(a){return String.fromCharCode(a)};e.org=function(a){return a.charCodeAt(0)};var V=function(a){a=a.slice();a.reverse();return a},T=function(){var a=[].slice.call(arguments);return(0==a.length?[]:a.reduce(function(a,c){return a.length<c.length?a:c})).map(function(b,c){return a.map(function(a){return a[c]})})};e.zip=T;e.range=P;e.enumerate=N;e.copy=U;e.deepcopy=
W;e.list=f;Array.prototype.__class__=f;f.__name__="list";Array.prototype.__getslice__=function(a,b,c){0>a&&(a=this.length+a);null==b?b=this.length:0>b&&(b=this.length+b);for(var d=f([]);a<b;a+=c)d.push(this[a]);return d};Array.prototype.__setslice__=function(a,b,c,d){0>a&&(a=this.length+a);null==b?b=this.length:0>b&&(b=this.length+b);if(null==c)Array.prototype.splice.apply(this,[a,b-a].concat(d));else for(var f=0;a<b;a+=c)this[a]=d[f++]};Array.prototype.__repr__=function(){if(this.__class__==A&&!this.length)return"set()";
for(var a=this.__class__&&this.__class__!=f?this.__class__==h?"(":"{":"[",b=0;b<this.length;b++){b&&(a+=", ");try{a+=this[b].__repr__()}catch(c){a+=this[b].toString()}}this.__class__==h&&1==this.length&&(a+=",");return a+=this.__class__&&this.__class__!=f?this.__class__==h?")":"}":"]"};Array.prototype.__str__=Array.prototype.__repr__;Array.prototype.append=function(a){this.push(a)};Array.prototype.clear=function(){this.length=0};Array.prototype.extend=function(a){this.push.apply(this,a)};Array.prototype.insert=
function(a,b){this.splice(a,0,b)};Array.prototype.remove=function(a){a=this.indexOf(a);if(-1==a)throw"KeyError";this.splice(a,1)};Array.prototype.py_pop=function(a){return void 0==a?this.pop():this.splice(a,1)[0]};Array.prototype.py_sort=function(){ha.apply(null,[this].concat([].slice.apply(arguments)))};e.tuple=h;h.__name__="tuple";e.set=A;A.__name__="set";Array.prototype.__bindexOf__=function(a){a+="";for(var b=0,c=this.length-1;b<=c;){var d=(b+c)/2|0,f=this[d]+"";if(f<a)b=d+1;else if(f>a)c=d-1;
else return d}return-1};Array.prototype.add=function(a){-1==this.indexOf(a)&&this.push(a)};Array.prototype.discard=function(a){a=this.indexOf(a);-1!=a&&this.splice(a,1)};Array.prototype.isdisjoint=function(a){this.sort();for(var b=0;b<a.length;b++)if(-1!=this.__bindexOf__(a[b]))return!1;return!0};Array.prototype.issuperset=function(a){this.sort();for(var b=0;b<a.length;b++)if(-1==this.__bindexOf__(a[b]))return!1;return!0};Array.prototype.issubset=function(a){return A(a.slice()).issuperset(this)};
Array.prototype.union=function(a){for(var b=A(this.slice().sort()),c=0;c<a.length;c++)-1==b.__bindexOf__(a[c])&&b.push(a[c]);return b};Array.prototype.intersection=function(a){this.sort();for(var b=A(),c=0;c<a.length;c++)-1!=this.__bindexOf__(a[c])&&b.push(a[c]);return b};Array.prototype.difference=function(a){a=A(a.slice().sort());for(var b=A(),c=0;c<this.length;c++)-1==a.__bindexOf__(this[c])&&b.push(this[c]);return b};Array.prototype.symmetric_difference=function(a){return this.union(a).difference(this.intersection(a))};
Array.prototype.update=function(){var a=[].concat.apply(this.slice(),arguments).sort();this.clear();for(var b=0;b<a.length;b++)a[b]!=a[b-1]&&this.push(a[b])};e.__keys__=X;e.__items__=Y;e.__del__=Z;e.dict=F;F.__name__="dict";e.str=E;String.prototype.__class__=E;E.__name__="str";String.prototype.__repr__=function(){return(-1==this.indexOf("'")?"'"+this+"'":'"'+this+'"').replace("\n","\\n")};String.prototype.__str__=function(){return this};String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+
this.slice(1)};String.prototype.endswith=function(a){return""==a||this.slice(-a.length)==a};String.prototype.find=function(a,b){return this.indexOf(a,b)};Object.defineProperty(String.prototype,"format",{get:function(){return n(this,function(a){var b=h([].slice.apply(arguments).slice(1)),c=0;return a.replace(/\{(\w*)\}/g,function(a,f){""==f&&(f=c++);if(f==+f)return"undefined"==b[f]?a:b[f];for(var h=0;h<b.length;h++)if("object"==typeof b[h]&&"undefined"!=typeof b[h][f])return b[h][f];return a})})},
enumerable:!0});String.prototype.isnumeric=function(){return!isNaN(parseFloat(this))&&isFinite(this)};String.prototype.join=function(a){return a.join(this)};String.prototype.lower=function(){return this.toLowerCase()};String.prototype.py_replace=function(a,b,c){return this.split(a,c).join(b)};String.prototype.lstrip=function(){return this.replace(/^\s*/g,"")};String.prototype.rfind=function(a,b){return this.lastIndexOf(a,b)};String.prototype.rsplit=function(a,b){var c=this.split(a||/s+/);return b?
[c.slice(0,-b).join(a)].concat(c.slice(-b)):c};String.prototype.rstrip=function(){return this.replace(/\s*$/g,"")};String.prototype.py_split=function(a,b){a||(a=" ");return this.split(a||/s+/,b)};String.prototype.startswith=function(a){return 0==this.indexOf(a)};String.prototype.strip=function(){return this.trim()};String.prototype.upper=function(){return this.toUpperCase()};var ea=function(a){return"object"==typeof a&&"__neg__"in a?a.__neg__():-a};e.__neg__=ea;e.__matmul__=function(a,b){return a.__matmul__(b)};
var Q=function(a,b){return"object"==typeof a&&"__mul__"in a?a.__mul__(b):"object"==typeof b&&"__rmul__"in b?b.__rmul__(a):a*b};e.__mul__=Q;var R=function(a,b){return"object"==typeof a&&"__div__"in a?a.__div__(b):"object"==typeof b&&"__rdiv__"in b?b.__rdiv__(a):a/b};e.__div__=R;var O=function(a,b){return"object"==typeof a&&"__add__"in a?a.__add__(b):"object"==typeof b&&"__radd__"in b?b.__radd__(a):a+b};e.__add__=O;var S=function(a,b){return"object"==typeof a&&"__sub__"in a?a.__sub__(b):"object"==typeof b&&
"__rsub__"in b?b.__rsub__(a):a-b};e.__sub__=S;var fa=function(a,b){return"object"==typeof a&&"__getitem__"in a?a.__getitem__(b):a[b]};e.__getitem__=fa;var ga=function(a,b,c){"object"==typeof a&&"__setitem__"in a?a.__setitem__(b,c):a[b]=c};e.__setitem__=ga;e.__getslice__=function(a,b,c,d){return"object"==typeof a&&"__getitem__"in a?a.__getitem__([b,c,d]):a.__getslice__(b,c,d)};e.__setslice__=function(a,b,c,d,f){"object"==typeof a&&"__setitem__"in a?a.__setitem__([b,c,d],f):a.__setslice__(b,c,d,f)};
e.__call__=function(){var a=[].slice.apply(arguments);return"object"==typeof a[0]&&"__call__"in a[0]?a[0].__call__.apply(null,a.slice(1)):a[0].apply(null,a.slice(1))};w(e,"a_linalg",{__all__:{__inited__:!1,__init__:function(a){if(y.executor_name==y.transpiler_name)var b=D(e.numscrypt),c=D(e.numscrypt.linalg);a.run=function(a){var h=b.array(f([f([0,-2,-1]),f([2,1,3]),f([1,1,2])]));a.check("Matrix a",h.astype("int32").tolist(),"<br>");var e=c.inv(h);a.check("Matrix ai",e.astype("int32").tolist(),"<br>");
h=h.__matmul__(e);a.check("a @ ai",h.astype("int32").tolist(),"<br>")}}}});w(e,"basics",{__all__:{__inited__:!1,__init__:function(a){if(y.executor_name==y.transpiler_name)var b=D(e.numscrypt);a.run=function(a){var d=b.zeros(h([4,3,2]),"int32");a.check("Zeros",d.tolist(),"<br>");d=b.ones(h([1,2,3]));a.check("Ones",d.astype("int32").tolist());d=b.identity(3,"int32");a.check("Identity",d.tolist(),"<br>");d=b.array(f([f([f([1,1,2,3]),f([4,5,6,7]),f([8,9,10,12])]),f([f([100,101,102,103]),f([104,105,106,
107]),f([108,109,110,112])])]));a.check("Matrix a",d.tolist(),"<br>");a.check("Transpose of a",d.transpose().tolist(),"<br>");var e=b.array(f([f([f([2,2,4,6]),f([8,10,12,14]),f([16,18,20,24])]),f([f([200,202,204,206]),f([208,210,212,214]),f([216,218,220,224])])])),q=e.transpose(h([2,1,0]));a.check("Matrix b",e.tolist(),"<br>");a.check("Permutation of b",q.tolist(),"<br>");var k=b.array(f([f([1,2,3,4]),f([5,6,7,8]),f([9,10,11,12])]),"int32");a.check("Shape strides c",h(k.shape),h(k.strides),"<br>");
a.check("Matrix c",k.tolist(),"<br>");var l=k.transpose();a.check("Shape strids ct",h(l.shape),h(l.strides),"<br>");a.check("Transpose of c",l.tolist(),"<br>");var g=b.hsplit(k,2),n=g[0],g=g[1];a.check("Matrix cs0",n.tolist(),"<br>");a.check("Matrix cs1",g.tolist(),"<br>");g=b.hstack(h([g,n]));a.check("Matrix ci",g.tolist(),"<br>");g=b.hsplit(l,3);l=g[0];n=g[1];g=g[2];a.check("Matrix cts0",l.tolist(),"<br>");a.check("Matrix cts1",n.tolist(),"<br>");a.check("Matrix cts2",g.tolist(),"<br>");g=b.hstack(h([g,
n,l]));a.check("Matrix ci",g.tolist(),"<br>");var r=b.array(f([f([13,14]),f([15,16]),f([17,18]),f([19,20])]),"int32");a.check("Matrix d",r.tolist(),"<br>");l=r.transpose();a.check("Permutation of d",l.tolist(),"<br>");var g=b.vsplit(r,4),n=g[0],B=g[1],I=g[2],g=g[3];a.check("Matrix ds0",n.tolist(),"<br>");a.check("Matrix ds1",B.tolist(),"<br>");a.check("Matrix ds2",I.tolist(),"<br>");a.check("Matrix ds3",g.tolist(),"<br>");g=b.vstack(h([g,I,B,n]));a.check("Matrix di",g.tolist(),"<br>");g=b.vsplit(l,
2);l=g[0];g=g[1];a.check("Matrix dts0",l.tolist(),"<br>");a.check("Matrix dts1",g.tolist(),"<br>");g=b.vstack(h([g,l]));a.check("Matrix dti",g.tolist(),"<br>");g=b.array(P(10));l=b.array(h([1,2,3,1,2,3,1,2,3,1]));d.__setitem__([1,0,2],177);var n=e.__getitem__([1,2,3]),B=e.__getitem__([1,h([1,3,1]),h([0,0,1])]),I=e.__getitem__([h([1,2,1]),h([1,3,1]),h([0,0,1])]),ia=e.__getitem__([1,1,h([0,0,1])]),ja=e.__getitem__([1,h([1,3,1]),1]),v=e.__getitem__([h([0,0,1]),1,1]),u=e.__getitem__([1,h([1,3,1]),h([0,
0,1])]),ka=e.__getitem__([1,h([1,3,1]),h([1,4,1])]),t=e.__getitem__([1,h([2,3,1]),h([2,4,1])]),m=q.__getitem__([1,h([1,3,1]),h([0,0,1])]),z=q.__getitem__([h([1,2,1]),h([1,3,1]),h([0,0,1])]),la=q.__getitem__([1,1,h([0,0,1])]),ma=q.__getitem__([1,h([1,3,1]),1]),na=q.__getitem__([h([0,0,1]),1,1]),w=q.__getitem__([3,h([1,3,1]),h([0,0,1])]),x=q.__getitem__([h([2,4,1]),h([1,3,1]),h([0,1,1])]),q=q.__getitem__([h([2,4,1]),h([2,3,1]),h([1,2,1])]),C=O(d,e),D=S(d,e),E=Q(d,e),e=R(d,e),k=k.__matmul__(r),r=O(g,
l),y=fa(r,6);ga(r,6,70);var A=Q(d,3),F=Q(3,d),G=R(d,3.1234567),H=R(3.1234567,d),J=O(d,3),K=O(3,d),L=S(d,3),M=S(3,d),N=ea(d);a.check("El a [1, 2, 3] alt",d.tolist(),"<br>");a.check("El b [1, 2, 3]",n,"<br>");a.check("Sl b0",B.tolist(),"<br>");a.check("Sl b1",I.tolist(),"<br>");a.check("Sl b2",ia.tolist(),"<br>");a.check("Sl b3",ja.tolist(),"<br>");a.check("Sl b4",v.tolist(),"<br>");a.check("Sl b5",u.tolist(),"<br>");a.check("Sl b6",ka.tolist(),"<br>");a.check("Sl b7",t.tolist(),"<br>");a.check("Sl bp0",
m.tolist(),"<br>");a.check("Sl bp1",z.tolist(),"<br>");a.check("Sl bp2",la.tolist(),"<br>");a.check("Sl bp3",ma.tolist(),"<br>");a.check("Sl bp4",na.tolist(),"<br>");a.check("Sl bp5",w.tolist(),"<br>");a.check("Sl bp6",x.tolist(),"<br>");a.check("Sl bp7",q.tolist(),"<br>");a.check("Matrix sum",C.tolist(),"<br>");a.check("Matrix difference",D.tolist(),"<br>");a.check("Matrix product",E.tolist(),"<br>");a.check("Matrix quotient",e.tolist(),"<br>");a.check("Matrix dotproduct",k.tolist(),"<br>");a.check("Vector",
g.tolist(),"<br>");a.check("Vector",l.tolist(),"<br>");a.check("El sum old",y,"<br>");a.check("Vector sum new",r.tolist(),"<br>");a.check("mul_a3",A.tolist(),"<br>");a.check("mul_3a",F.tolist(),"<br>");a.check("div_a3",b.round(G,2).tolist(),"<br>");a.check("div_3a",b.round(H,2).tolist(),"<br>");a.check("add_a3",J.tolist(),"<br>");a.check("add_3a",K.tolist(),"<br>");a.check("sub_a3",L.tolist(),"<br>");a.check("sub_3a",M.tolist(),"<br>");a.check("neg_a",N.tolist(),"<br>")}}}});w(e,"itertools",{__all__:{__inited__:!1,
__init__:function(a){a.chain=function(){for(var a=[].slice.apply(arguments),c=[],d=0;d<a.length;d++)c=c.concat(a[d]);return f(c)}}}});w(e,"numscrypt",{__all__:{__inited__:!1,__init__:function(a){var b={};w(b,"",D(e.itertools));var c=G("ns_settings",[J],{});c.optim_space=!1;var d=F({int32:4,float32:4,float64:8}),p=F({int32:Int32Array,float32:Float32Array,float64:Float64Array}),q=function(a){var b=a[0];a=a.__getslice__(1,null,1);for(var c=0;c<a.length;c++)b*=a[c];return b},k=G("ndarray",[J],{get __init__(){return n(this,
function(a,b,c,f,v,e){if("undefined"==typeof v||null!=v&&v.__class__==r)v=0;if("undefined"==typeof e||null!=e&&e.__class__==r)e=null;a.dtype=c;a.itemsize=d[a.dtype];a.offset=v;a.ns_shift=a.offset/a.itemsize;a.data=f;a.reshape(b,e)})},get reshape(){return n(this,function(a,b,c){a.shape=b;a.ndim=C(a.shape);if(c)a.strides=c;else for(a.strides=f([a.itemsize]),b=V(a.shape.__getslice__(1,null,1)),c=0;c<b.length;c++)a.strides.insert(0,a.strides[0]*b[c]);b=[];c=a.strides;for(var d=0;d<c.length;d++)b.append(c[d]/
a.itemsize);a.ns_skips=b;a.ns_natural=0==a.offset;for(b=0;b<a.ndim-1;b++)if(a.ns_skips[b+1]>a.ns_skips[b]){a.ns_natural=!1;break}a.ns_length=q(a.shape);a.ns_length<a.data.length&&(a.ns_natural=!1);a.nbytes=a.ns_length*a.itemsize})},get astype(){return n(this,function(a,b){for(var c=d[b],f=k,e=a.shape,h=p[b].from(a.data),g=c*a.ns_shift,l=[],m=a.ns_skips,z=0;z<m.length;z++)l.append(c*m[z]);return f(e,b,h,g,l)})},get tolist(){return n(this,function(a){var c=function(d,e){for(var v=f([]),h=0;h<a.shape[d];h++)d<
a.ndim-1?v.append(c(d+1,b.chain(e,f([h])))):v.append(a.__getitem__(b.chain(e,f([h]))));return v};return c(0,f([]))})},get __repr__(){return n(this,function(a){return"ndarray ({})".format(E(a.tolist()))})},get __str__(){return n(this,function(a){return E(a.tolist()).py_replace("]], [[","]]\n\n[[").py_replace("], ","]\n").py_replace(",","")})},get transpose(){return n(this,function(a){var b=h([].slice.apply(arguments).slice(1));C(b)&&Array.isArray(b[0])&&(b=b[0]);return k(C(b)?function(){for(var c=
[],d=0;d<a.ndim;d++)c.append(a.shape[b[d]]);return c}():V(a.shape),a.dtype,a.data,null,C(b)?function(){for(var c=[],d=0;d<a.ndim;d++)c.append(a.strides[b[d]]);return c}():V(a.strides))})},get __getitem__(){return n(this,function(a,b){if(x(b)==f){for(var c=a.ns_shift,d=f([]),e=f([]),g=!1,l=0;l<a.ndim;l++){var t=b[l];x(t)==h?(g=!0,c+=t[0]*a.ns_skips[l],d.append(t[1]?(t[1]-t[0])/t[2]:(a.shape[l]-t[0])/t[2]),e.append(t[2]*a.strides[l])):c+=t*a.ns_skips[l]}return g?k(d,a.dtype,a.data,c*a.itemsize,e):a.data[c]}return a.data[a.ns_shift+
b*a.ns_skips[0]]})},get __setitem__(){return n(this,function(a,c,d){var e=function(a,c,B){if(C(a)<c.ndim)for(var d=0;d<c.shape[C(a)];d++)e(b.chain(a,f([d])),c,B);else c.__setitem__(a,B.__getitem__(a))};if(x(c)==f){for(var v=a.ns_shift,g=f([]),l=f([]),t=!1,m=0;m<a.ndim;m++){var z=c[m];x(z)==h?(t=!0,v+=z[0]*a.ns_skips[m],g.append(z[1]?(z[1]-z[0])/z[2]:(a.shape[m]-z[0])/z[2]),l.append(z[2]*a.strides[m])):v+=z*a.ns_skips[m]}t?(a=k(g,a.dtype,a.data,v*a.itemsize,l),e(f([]),a,d)):a.data[v]=d}else a.data[a.ns_shift+
c*a.ns_skips[0]]=d})},get __neg__(){return n(this,function(a){var c=function(e,h){for(var g=0;g<a.shape[e];g++)if(e<a.ndim-1)c(e+1,b.chain(h,f([g])));else{var v=b.chain(h,f([g]));d.__setitem__(v,-a.__getitem__(v))}},d=l(a.shape,a.dtype);if(a.ns_natural)for(var e=h([d.data,a.data]),g=e[0],e=e[1],k=0;k<a.data.length;k++)g[k]=-e[k];else c(0,f([]));return d})},get __ns_inv__(){return n(this,function(a){var c=function(e,h){for(var g=0;g<a.shape[e];g++)if(e<a.ndim-1)c(e+1,b.chain(h,f([g])));else{var v=
b.chain(h,f([g]));d.__setitem__(v,1/a.__getitem__(v))}},d=l(a.shape,a.dtype);if(a.ns_natural)for(var e=h([d.data,a.data]),g=e[0],e=e[1],k=0;k<a.data.length;k++)g[k]=1/e[k];else c(0,f([]));return d})},get __add__(){return n(this,function(a,c){var d=x(c)==k,e=function(h,k){for(var l=0;l<a.shape[h];l++)if(h<a.ndim-1)e(h+1,b.chain(k,f([l])));else{var m=b.chain(k,f([l]));d?g.__setitem__(m,a.__getitem__(m)+c.__getitem__(m)):g.__setitem__(m,a.__getitem__(m)+c)}},g=l(a.shape,a.dtype);if(a.ns_natural&&d&&
c.ns_natural)for(var u=h([g.data,a.data,c.data]),p=u[0],t=u[1],u=u[2],m=0;m<a.data.length;m++)p[m]=t[m]+u[m];else if(a.ns_natural&&!d)for(u=h([g.data,a.data]),p=u[0],t=u[1],m=0;m<a.data.length;m++)p[m]=t[m]+c;else e(0,f([]));return g})},get __radd__(){return n(this,function(a,b){return a.__add__(b)})},get __sub__(){return n(this,function(a,c){var d=x(c)==k,e=function(h,l){for(var k=0;k<a.shape[h];k++)if(h<a.ndim-1)e(h+1,b.chain(l,f([k])));else{var m=b.chain(l,f([k]));d?g.__setitem__(m,a.__getitem__(m)-
c.__getitem__(m)):g.__setitem__(m,a.__getitem__(m)-c)}},g=l(a.shape,a.dtype);if(a.ns_natural&&d&&c.ns_natural)for(var u=h([g.data,a.data,c.data]),p=u[0],t=u[1],u=u[2],m=0;m<a.data.length;m++)p[m]=t[m]-u[m];else if(a.ns_natural&&!d)for(u=h([g.data,a.data]),p=u[0],t=u[1],m=0;m<a.data.length;m++)p[m]=t[m]-c;else e(0,f([]));return g})},get __rsub__(){return n(this,function(a,b){return a.__neg__().__add__(b)})},get __mul__(){return n(this,function(a,c){var d=x(c)==k,e=function(h,k){for(var l=0;l<a.shape[h];l++)if(h<
a.ndim-1)e(h+1,b.chain(k,f([l])));else{var m=b.chain(k,f([l]));d?g.__setitem__(m,a.__getitem__(m)*c.__getitem__(m)):g.__setitem__(m,a.__getitem__(m)*c)}},g=l(a.shape,a.dtype);if(a.ns_natural&&d&&c.ns_natural)for(var u=h([g.data,a.data,c.data]),p=u[0],t=u[1],u=u[2],m=0;m<a.data.length;m++)p[m]=t[m]*u[m];else if(a.ns_natural&&!d)for(u=h([g.data,a.data]),p=u[0],t=u[1],m=0;m<a.data.length;m++)p[m]=t[m]*c;else e(0,f([]));return g})},get __rmul__(){return n(this,function(a,b){return a.__mul__(b)})},get __div__(){return n(this,
function(a,c){var d=x(c)==k,e=function(h,l){for(var k=0;k<a.shape[h];k++)if(h<a.ndim-1)e(h+1,b.chain(l,f([k])));else{var m=b.chain(l,f([k]));d?g.__setitem__(m,a.__getitem__(m)/c.__getitem__(m)):g.__setitem__(m,a.__getitem__(m)/c)}},g=l(a.shape,a.dtype);if(a.ns_natural&&d&&c.ns_natural)for(var p=h([g.data,a.data,c.data]),q=p[0],t=p[1],p=p[2],m=0;m<a.data.length;m++)q[m]=t[m]/p[m];else if(a.ns_natural&&!d)for(p=h([g.data,a.data]),q=p[0],t=p[1],m=0;m<a.data.length;m++)q[m]=t[m]/c;else e(0,f([]));return g})},
get __rdiv__(){return n(this,function(a,b){return a.__ns_inv__().__mul__(b)})},get __matmul__(){return n(this,function(a,b){var d=h([a.shape[0],b.shape[1],a.shape[1]]),e=d[0],f=d[1],g=d[2],k=l(h([e,f]),a.dtype),p=a.ns_natural||c.optim_space?a:y(a),m=b.ns_natural||c.optim_space?b:y(b);if(p.ns_natural&&m.ns_natural)for(var q=0;q<e;q++)for(var n=0;n<f;n++)for(var d=h([k.data,p.data,m.data]),r=d[0],w=d[1],x=d[2],d=0;d<g;d++)r[q*f+n]+=w[q*g+d]*x[d*f+n];else for(q=0;q<e;q++)for(n=0;n<f;n++){for(d=r=0;d<
g;d++)r+=p.__getitem__([q,d])*m.__getitem__([d,n]);k.__setitem__([q,n],r)}return k})}}),l=function(a,b){if("undefined"==typeof b||null!=b&&b.__class__==r)b="float64";return k(a,b,new p[b](q(a)))},g=function(a,c,d){if("undefined"==typeof c||null!=c&&c.__class__==r)c="float64";if("undefined"==typeof d||null!=d&&d.__class__==r)d=!0;var e=function(c,d){for(var h=0;h<a.shape[c];h++)if(c<a.ndim-1)e(c+1,b.chain(d,f([h])));else{var k=b.chain(d,f([h]));g.__setitem__(k,a.__getitem__(k))}};if(a.__class__==k){if(d){var g=
l(a.shape,c);if(a.ns_natural){d=h([a.data,g.data]);c=d[0];d=d[1];for(var q=0;q<c.length;q++)d[q]=c[q]}else e(0,f([]));return g}return k(a.shape,a.dtype,a.buffer,a.offset,a.strides)}d=f([]);for(q=a;Array.isArray(q);)d.append(q.length),q=q[0];var n=function(a){return Array.isArray(a[0])?b.chain.apply(null,function(){for(var b=[],c=0;c<a.length;c++)b.append(n(a[c]));return b}()):a};return k(d,c,p[c].from(n(a)))},y=function(a){return g(a,a.dtype,!0)},A=function(a,b){if("undefined"==typeof b||null!=b&&
b.__class__==r)b="float64";for(var c=l(a,b),d=c.data,e=0;e<d.length;e++)d[e]=0;return c};a.array=g;a.copy=y;a.empty=l;a.hsplit=function(a,b){for(var c=f([]),d=f([a.shape[0],a.shape[1]/b]),e=0;e<b;e++)c.append(k(d.__getslice__(0,null,1),a.dtype,a.data,e*d[1]*a.strides[1],a.strides.__getslice__(0,null,1)));return c};a.hstack=function(a){for(var b=0,c=a,d=0;d<c.length;d++)var e=c[d],b=b+e.shape[1];for(var b=l(f([a[0].shape[0],b]),a[0].dtype),g=0,c=a,d=0;d<c.length;d++){e=c[d];for(a=0;a<e.shape[0];a++)for(var h=
0;h<e.shape[1];h++)b.__setitem__([a,g+h],e.__getitem__([a,h]));g+=e.shape[1]}return b};a.identity=function(a,b){if("undefined"==typeof b||null!=b&&b.__class__==r)b="float64";for(var c=A(h([a,a]),b),d=0;d<a;d++)c.data[d*c.shape[1]+d]=1;return c};a.ndarray=k;a.ns_ctors=p;a.ns_itemsizes=d;a.ns_length=q;a.ns_settings=c;a.ones=function(a,b){if("undefined"==typeof b||null!=b&&b.__class__==r)b="float64";for(var c=l(a,b),d=c.data,e=0;e<d.length;e++)d[e]=1;return c};a.round=function(a,c){if("undefined"==typeof c||
null!=c&&c.__class__==r)c=0;var d=function(g,h){for(var k=0;k<a.shape[g];k++)if(g<a.ndim-1)d(g+1,b.chain(h,f([k])));else{var l=b.chain(h,f([k]));e.__setitem__(l,a.__getitem__(l).toFixed(c))}},e=l(a.shape,a.dtype);if(a.ns_natural)for(var g=h([a.data,e.data]),k=g[0],g=g[1],p=0;p<k.length;p++)g[p]=k[p].toFixed(c);else d(0,f([]));return e};a.vsplit=function(a,b){for(var c=f([]),d=f([a.shape[0]/b,a.shape[1]]),e=0;e<b;e++)c.append(k(d.__getslice__(0,null,1),a.dtype,a.data,e*d[0]*a.strides[0],a.strides.__getslice__(0,
null,1)));return c};a.vstack=function(a){for(var b=0,c=a,d=0;d<c.length;d++)var e=c[d],b=b+e.shape[0];for(var b=l(f([b,a[0].shape[1]]),a[0].dtype),g=0,c=a,d=0;d<c.length;d++){e=c[d];for(a=0;a<e.shape[0];a++)for(var h=0;h<e.shape[1];h++)b.__setitem__([g+a,h],e.__getitem__([a,h]));g+=e.shape[0]}return b};a.zeros=A}}});w(e,"numscrypt.linalg",{__all__:{__inited__:!1,__init__:function(a){var b=D(e.numscrypt);a.inv=function(a){a=b.hstack(h([a,b.identity(a.shape[0],a.dtype)]));for(var d=a.shape,e=d[0],d=
d[1],f=a.data,k=0;k<e;k++){if(!f[k*d+k])for(var l=k+1;l<e;l++)if(f[l*d+k]){for(var g=0;g<d;g++){var n=f[l*d+g];f[l*d+g]=a.__getitem__([k*d,g]);f[k*d+g]=n}break}l=f[k*d+k];for(g=k;g<d;g++)f[k*d+g]/=l;for(l=0;l<e;l++)if(l!=k)for(n=f[l*d+k],g=0;g<d;g++)f[l*d+g]-=n*f[k*d+g]}return b.hsplit(a,2)[1]}}}});w(e,"org.transcrypt.autotester",{__all__:{__inited__:!1,__init__:function(a){var b={};w(b,"",D(e.itertools));var c=G("AutoTester",[J],{get __init__(){return n(this,function(a){a.referenceBuffer=f([]);a.testBuffer=
f([]);a.messageDivId="message";a.referenceDivId="python";a.testDivId="transcrypt"})},get sortedRepr(){return n(this,function(a,b){var c=function(a){if(x(a)==E)try{return M(a)}catch(b){try{return L(a)}catch(c){return a}}else return a};return x(b)==F?"{"+", ".join(function(){for(var a=[],d=N(aa(function(){for(var a=[],d=b.py_keys(),e=0;e<d.length;e++)a.append(c(d[e]));return a}(),r({key:function(a){return E(a)}}))),e=0;e<d.length;e++){var f=d[e][1];a.append("{}: {}".format(H(f),H(b[f])))}return a}())+
"}":x(b)==A?C(b)?"{"+", ".join(aa(function(){for(var a=[],c=f(b),d=0;d<c.length;d++)a.append(E(c[d]));return a}()))+"}":H(b):x(b)==P?H(f(b)):H(b)})},get check(){return n(this,function(a){var b=h([].slice.apply(arguments).slice(1)),c=" ".join(function(){for(var c=[],e=b,f=0;f<e.length;f++)c.append(a.sortedRepr(e[f]));return c}());y.executor_name==y.transpiler_name?a.testBuffer.append(c):a.referenceBuffer.append(c)})},get dump(){return n(this,function(a,b){for(var c=h([!1,!0]),e=0;e<c.length;e++){var f=
c[e]?".min":"";aFile=open("{}{}.html".format(b,f),"w");aFile.write("<b>Status:</b>\n");aFile.write('<div id="{}"></div><br><br>\n\n'.format(a.messageDivId));aFile.write("<b>CPython output:</b>\n");aFile.write('<div id="{}">{}</div><br><br>\n\n'.format(a.referenceDivId," | ".join(a.referenceBuffer)));aFile.write("<b>Transcrypt output:</b>\n");aFile.write('<div id="{}"></div>\n\n'.format(a.testDivId));aFile.write('<script src="{}/{}{}.js">\x3c/script>\n\n'.format(y.target_subdir,b,f));aFile.close()}})},
get compare(){return n(this,function(a){a.referenceBuffer=document.getElementById(a.referenceDivId).innerHTML.py_split(" | ");for(var c=!1,e=N(T(a.testBuffer,a.referenceBuffer)),k=0;k<e.length;k++){var l=e[k],g=l[0];if(l[1][0]!=l[1][1]){document.getElementById(a.messageDivId).innerHTML='<div style="color: {}"><b>Test failed</b></div>'.format("red");c=h([h([a.referenceBuffer,a.referenceDivId,"green"]),h([a.testBuffer,a.testDivId,"red"])]);for(e=0;e<c.length;e++){var l=c[e],k=l[0],n=l[1],l=l[2],k=b.chain(k.__getslice__(0,
g,1),f(['!!! <div style="display: inline; color: {}; background-color: {}"><b><i>{}</i></b></div>'.format(l,"yellow",k[g])]),k.__getslice__(g+1,null,1));document.getElementById(n).innerHTML=" | ".join(k)}c=!0;break}}c||(document.getElementById(a.messageDivId).innerHTML='<div style="color: {}">Test succeeded</div>'.format("green"),document.getElementById(a.testDivId).innerHTML=" | ".join(a.testBuffer))})},get run(){return n(this,function(a,b,c){a.check('<div style="display: inline; color: {}"> --- Testlet: {} --- </div><br>'.format("blue",
c));b.run(a);a.check("<br><br>")})},get done(){return n(this,function(a){y.executor_name==y.transpiler_name?a.compare():a.dump(ba.__file__.__getslice__(0,-3,1).py_replace("\\","/").rsplit("/",1)[-1])})}});a.AutoTester=c;a.errorColor="red";a.highlightColor="yellow";a.okColor="green";a.testletNameColor="blue"}}});(function(){var a={},b={},c={};w(c,"transcrypt.autotester",D(e.org.transcrypt.autotester));w(b,"",D(e.basics));w(a,"",D(e.a_linalg));c=c.transcrypt.autotester.AutoTester();c.run(b,"basics");
c.run(a,"a_linalg");c.done();e.autoTester=c})();return e}window.autotest=autotest();
