<script>
(function() {
  var interval = $interval;

  function reload() {
    var r = new XMLHttpRequest();
    r.addEventListener('load', function() {
      var m = /<body>([\s\S]+)<\/body>/.exec(this.responseText);
      if (m) {
        document.querySelector('div.$prefix').innerHTML = m[1];
      }

      m = /<style>([\s\S]+)<\/style>/.exec(this.responseText);
      if (m) {
        document.querySelector('style').innerText = m[1];
      }

      setTimeout(reload, interval * 1000);
    });
    r.open('GET', location.href);
    r.send()
  }

  setTimeout(reload, interval * 1000);
})();
</script>
